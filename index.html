<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="VegeOrder">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0891b2">
    <meta name="msapplication-navbutton-color" content="#0891b2">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIlZlZ2VPcmRlciAtIE9mZmxpbmUgTWFsYXlzaWFuIFZlZ2V0YWJsZSBNYW5hZ2VyIiwKICAic2hvcnRfbmFtZSI6ICJWZWdlT3JkZXIiLAogICJkZXNjcmlwdGlvbiI6ICJDb21wbGV0ZSBPZmZsaW5lIE1hbGF5c2lhbiBWZWdldGFibGUgU3VwcGx5ICYgT3JkZXIgTWFuYWdlbWVudCIsCiAgInN0YXJ0X3VybCI6ICIvIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAib3JpZW50YXRpb24iOiAicG9ydHJhaXQiLAogICJ0aGVtZV9jb2xvciI6ICIjMDg5MWIyIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjMDg5MWIyIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTVRnd0lpQm9aV2xuYUhROUlqRTRNQ0lpSUhacFpYZENiM2c5SWpBZ01DQXhPREFnTVRnd0lpQm1hV3hzUFNKdWIyNWxJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lQZ285Y21WamRDQjNhV1IwYUQwaU1UZ3dJaUJvWldsbmFIUTlJakU0TUNJS0lISjRQU0kwTUNJZ1ptbHNiRDBpSXpBNE9URmlNaUl2UGdvOGMzWm5JSGc5SWpRd0lpQjVQU0kwTUNJZ2QybGtkR2c5U1VFd01DSWdhR1ZwWjJoMFBTSXhNREFpSUhabGFXVkNiM2c5SWpBZ01DQXhNREFnTVRBd0lpQm1hV3hzUFNKM2FHbDBaU0krQ2p4MFpYaDBJSGc5U1VBd0lpQjVQU0kyTlNJZ1ptOXVkQzFtWVcxcGJIazlTVUZ5YVdGc0lpQm1iMjUwTFhOcGVtVTlTVUEySWlCMFpYaDBMV0Z1WTJodmNqMWpiV2xrWkd4bFNVQSsrNEtXZEhKMVBDOTBaWGgwUGdvOUwzTjJaejRLUEM5emRtYysifSwKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlOVEl4SWlCb1pXbG5hSFE5SWpVeU1TSWdkbWxsZDBKdmVEMGlNQ0F3SURVeU1TQTJNalFpSUdacGJHdzlJbTV2Ym1VaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xtY3pMbTl5Wnk4eU1EQXdMM04yWnlJK0NqeHlaV04wSUhkcFpIUm9QU0kxTWpFaUlHaGxhV2RvZEQwaU5qSTBJaUJ5ZUQwaU5EQWlJR1pwYkd3OVNVQXdPRGt4WWpJaUx6NEtQSE4yWnlCNFBTSXhOREVpSUhrOVNVQXhOREVpSUhkcFpIUm9QU0l4T0RFaUlHaGxhV2RvZEQwaU1UZ3hJaUIyYVdWM1FtOTRQU0l3SURBZ01UZ3hJREU0TVNJZ1ptbHNiRDBpZDJocGRHVWlQZ285ZEdWNGRDQjRQU0kxTUNJZ2VUMGlOalVpSUdadmJuUXRabUZ0YVd4NVBTSkJjbWxoYkNJZ1ptOXVkQzF6YVhwbFBTSXpOQ0lnZEdWNGRDMWhibU5vYjNJOVNVQnRhV1JrYkdVaUlHWnBiR3c5UzNKM2FHbDBaU0krVW1WblpVOXlaR1Z5UEM5MFpYaDBQZ289IiwKICAgICAgInNpemVzIjogIjUyMXg2MjQiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIgogICAgfQogIF0KfQ==">
    
    <title>VegeOrder - Complete Offline Malaysian Vegetable Manager</title>
    
    <!-- Mobile App Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiByeD0iNDAiIGZpbGw9IiMwODkxYjIiLz4KPHN2ZyB4PSI0MCIgeT0iNDAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZmlsbD0id2hpdGUiPgo8dGV4dCB4PSI1MCIgeT0iNjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSI2MCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+8J+luTwvdGV4dD4KPC9zdmc+Cjwvc3ZnPg==">
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0iIzA4OTFiMiIvPgo8dGV4dCB4PSIxNiIgeT0iMjIiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiPvCfpbk8L3RleHQ+Cjwvc3ZnPg==">
    
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 50%, #155e75 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
            font-size: 16px;
            line-height: 1.5;
        }
        
        /* Mobile Layout Container */
        .mobile-container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 50%, #155e75 100%);
        }
        
        /* Status Bar - Fixed */
        .status-bar {
            height: 44px;
            background: linear-gradient(135deg, #155e75 0%, #0e7490 100%);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            font-size: 14px;
            font-weight: 600;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            backdrop-filter: blur(20px);
            box-shadow: 0 2px 10px rgba(8, 145, 178, 0.15);
        }
        
        .status-bar .time {
            color: white;
        }
        
        .status-bar .indicators {
            display: flex;
            align-items: center;
            gap: 4px;
            color: white;
        }
        
        /* Header - Fixed Position */
        .header {
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 50%, #155e75 100%);
            backdrop-filter: blur(30px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top: 44px;
            left: 0;
            right: 0;
            z-index: 90;
            box-shadow: 0 4px 20px rgba(8, 145, 178, 0.2);
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .app-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #67e8f9, #06b6d4);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        .app-title h1 {
            font-size: 20px;
            font-weight: 700;
            line-height: 1;
            letter-spacing: -0.5px;
        }
        
        .app-title p {
            font-size: 13px;
            color: rgba(255,255,255,0.8);
            font-weight: 500;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .header-right .stats {
            text-align: right;
        }
        
        .header-right p {
            font-size: 12px;
            color: rgba(255,255,255,0.9);
            font-weight: 600;
        }
        
        .settings-btn {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            border: none;
            background: rgba(255,255,255,0.2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 18px;
            box-shadow: 0 2px 8px rgba(255,255,255,0.1);
        }
        
        .settings-btn:active {
            transform: scale(0.9);
            background: rgba(255,255,255,0.3);
            box-shadow: 0 4px 12px rgba(255,255,255,0.2);
        }
        
        /* Enhanced Mobile Scrolling */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 120px 20px 140px;
            -webkit-overflow-scrolling: touch;
            position: relative;
            height: calc(100vh - 44px);
            scroll-behavior: smooth;
        }
        
        /* Custom Scrollbar for Mobile */
        .main-content::-webkit-scrollbar {
            width: 3px;
        }
        
        .main-content::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 2px;
        }
        
        .main-content::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
        }
        
        .main-content::-webkit-scrollbar-thumb:hover {
            background: rgba(255,255,255,0.5);
        }
        
        /* Cards */
        .card {
            background: rgba(255,255,255,0.18);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.18);
            backdrop-filter: blur(20px);
            border-radius: 18px;
            padding: 16px 12px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .stat-label {
            font-size: 11px;
            color: rgba(255,255,255,0.8);
            margin-bottom: 6px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            line-height: 1;
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 16px 24px;
            border-radius: 16px;
            border: none;
            color: white;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            min-height: 52px;
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }
        
        .btn:active {
            transform: scale(0.96);
        }
        
        .btn-primary { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
        .btn-success { background: linear-gradient(135deg, #0891b2, #0e7490); }
        .btn-danger { background: linear-gradient(135deg, #ef4444, #dc2626); }
        .btn-purple { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
        .btn-gray { background: linear-gradient(135deg, #6b7280, #4b5563); }
        
        /* Action Buttons */
        .actions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }
        
        .action-btn {
            padding: 20px;
            border-radius: 20px;
            border: none;
            color: white;
            font-weight: 600;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            transition: all 0.2s ease;
            cursor: pointer;
            min-height: 100px;
            position: relative;
            overflow: hidden;
        }
        
        .action-btn:active {
            transform: scale(0.96);
        }
        
        .action-btn.cyan {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
        }
        
        .action-btn.blue {
            background: linear-gradient(135deg, #3b82f6 0%, #0891b2 100%);
        }
        
        .action-btn.teal {
            background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%);
        }
        
        .action-btn .icon {
            font-size: 28px;
        }
        
        /* Form Elements */
        .input {
            width: 100%;
            padding: 18px 20px;
            border-radius: 16px;
            border: none;
            background: rgba(255,255,255,0.25);
            color: white;
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 16px;
            transition: all 0.2s ease;
        }
        
        .input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .input:focus {
            outline: none;
            background: rgba(255,255,255,0.35);
            box-shadow: 0 0 0 3px rgba(255,255,255,0.3);
        }
        
        /* Search Input */
        .search-container {
            position: relative;
            margin-bottom: 20px;
        }
        
        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
            color: rgba(255,255,255,0.7);
            pointer-events: none;
        }
        
        .search-container input {
            padding-left: 56px;
        }
        
        /* Customer Cards */
        .customer-card, .product-card, .order-card {
            background: rgba(255,255,255,0.18);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }
        
        .customer-card:active, .product-card:active, .order-card:active {
            transform: scale(0.98);
            background: rgba(255,255,255,0.25);
        }
        
        .customer-header, .product-header, .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        
        .customer-info h3, .product-info h3, .order-info h3 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
            line-height: 1.2;
        }
        
        .contact-info {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
            font-size: 14px;
            color: rgba(255,255,255,0.9);
        }
        
        .contact-info .icon {
            font-size: 14px;
            width: 16px;
        }
        
        /* Icon Buttons */
        .icon-btn {
            width: 44px;
            height: 44px;
            border-radius: 14px;
            border: none;
            background: rgba(255,255,255,0.15);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 16px;
        }
        
        .icon-btn:active {
            transform: scale(0.9);
            background: rgba(255,255,255,0.25);
        }
        
        .icon-btn.edit-btn {
            background: rgba(6, 182, 212, 0.8);
        }
        
        .icon-btn.edit-btn:active {
            background: rgba(6, 182, 212, 1);
        }
        
        .icon-btn.delete-btn {
            background: rgba(239, 68, 68, 0.8);
        }
        
        .icon-btn.delete-btn:active {
            background: rgba(239, 68, 68, 1);
        }
        
        .customer-actions, .product-actions {
            display: flex;
            gap: 8px;
        }
        
        /* Share Buttons */
        .share-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .share-btn {
            padding: 14px 16px;
            border-radius: 14px;
            border: none;
            color: white;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
        }
        
        .share-btn:active {
            transform: scale(0.96);
        }
        
        .share-btn.whatsapp {
            background: linear-gradient(135deg, #25d366, #1db954);
        }
        
        .share-btn.whatsapp:hover {
            background: linear-gradient(135deg, #1db954, #128c7e);
        }
        
        .share-btn.email {
            background: linear-gradient(135deg, #ea4335, #d33b2c);
        }
        
        .share-btn.email:hover {
            background: linear-gradient(135deg, #d33b2c, #b71c1c);
        }
        
        .share-icon {
            font-size: 16px;
        }
        
        /* Category Filters */
        .category-filters {
            display: flex;
            overflow-x: auto;
            gap: 8px;
            margin-bottom: 20px;
            padding-bottom: 8px;
            -webkit-overflow-scrolling: touch;
        }
        
        .category-filters::-webkit-scrollbar {
            height: 3px;
        }
        
        .category-filters::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 2px;
        }
        
        .category-filters::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
        }
        
        .category-btn {
            padding: 10px 16px;
            border-radius: 20px;
            border: none;
            color: rgba(255,255,255,0.8);
            background: rgba(255,255,255,0.15);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            min-width: fit-content;
        }
        
        .category-btn.active {
            background: rgba(255,255,255,0.3);
            color: white;
            transform: scale(1.05);
        }
        
        .category-btn:active {
            transform: scale(0.95);
        }
        
        /* Product Category Badge */
        .category-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
            background: rgba(255,255,255,0.2);
            color: rgba(255,255,255,0.9);
            margin-top: 4px;
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 50%, #155e75 100%);
            backdrop-filter: blur(30px);
            border-top: 1px solid rgba(255,255,255,0.1);
            padding: 12px 20px 32px;
            z-index: 100;
            box-shadow: 0 -4px 20px rgba(8, 145, 178, 0.2);
        }
        
        .nav-items {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 12px 16px;
            border-radius: 16px;
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s ease;
            cursor: pointer;
            min-width: 60px;
        }
        
        .nav-item.active {
            color: white;
            background: rgba(255,255,255,0.25);
            box-shadow: 0 2px 8px rgba(255,255,255,0.2);
            transform: scale(1.05);
        }
        
        .nav-item:active {
            transform: scale(0.95);
        }
        
        .nav-item .icon {
            font-size: 24px;
        }
        
        .home-indicator {
            height: 4px;
            background: rgba(255,255,255,0.4);
            border-radius: 2px;
            width: 140px;
            margin: 8px auto 0;
        }
        
        /* Modals */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: none;
            align-items: flex-end;
            z-index: 200;
            animation: fadeIn 0.3s ease;
        }
        
        .modal.show {
            display: flex;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
        
        /* Modal Content */
        .modal-content {
            background: rgba(255,255,255,0.98);
            backdrop-filter: blur(30px);
            border-radius: 24px 24px 0 0;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            color: #1f2937;
            animation: slideUp 0.3s ease;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
        }
        
        .modal-header {
            position: sticky;
            top: 0;
            background: rgba(255,255,255,0.98);
            backdrop-filter: blur(30px);
            border-bottom: 1px solid #e5e7eb;
            padding: 20px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            font-size: 20px;
            font-weight: 700;
            color: #1f2937;
        }
        
        .close-btn {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            border: none;
            background: #f3f4f6;
            color: #374151;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 18px;
        }
        
        .close-btn:active {
            transform: scale(0.9);
            background: #e5e7eb;
        }
        
        .modal-body {
            padding: 24px;
        }
        
        /* Form Inputs in Modals */
        .form-input {
            width: 100%;
            padding: 18px 20px;
            border-radius: 16px;
            border: none;
            background: #f9fafb;
            color: #1f2937;
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 16px;
            transition: all 0.2s ease;
        }
        
        .form-input::placeholder {
            color: #6b7280;
        }
        
        .form-input:focus {
            outline: none;
            background: #f3f4f6;
            box-shadow: 0 0 0 3px rgba(8, 145, 178, 0.1);
            border: 2px solid #0891b2;
        }
        
        .form-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-top: 24px;
        }
        
        .form-btn {
            padding: 18px 24px;
            border-radius: 16px;
            border: none;
            color: white;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            min-height: 56px;
        }
        
        .form-btn:active {
            transform: scale(0.96);
        }
        
        /* Utility Classes */
        .hidden {
            display: none !important;
        }
        
        .view {
            padding-top: 20px;
        }
        
        /* Section Headers */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 700;
            color: white;
        }
        
        .add-btn {
            width: 52px;
            height: 52px;
            border-radius: 26px;
            border: none;
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 24px;
            box-shadow: 0 8px 24px rgba(6, 182, 212, 0.4);
        }
        
        .add-btn:active {
            transform: scale(0.9);
        }
        
        /* Filters */
        .filters {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .filter-btn {
            padding: 14px 12px;
            border-radius: 16px;
            border: none;
            color: rgba(255,255,255,0.8);
            background: rgba(255,255,255,0.15);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .filter-btn.active {
            background: rgba(255,255,255,0.3);
            color: white;
        }
        
        .filter-btn:active {
            transform: scale(0.95);
        }
        
        /* Order Status */
        .order-status {
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: capitalize;
        }
        
        .status-pending {
            background: rgba(251, 191, 36, 0.2);
            color: #f59e0b;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }
        
        .status-completed {
            background: rgba(8, 145, 178, 0.2);
            color: #0891b2;
            border: 1px solid rgba(8, 145, 178, 0.3);
        }
        
        /* Empty States */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255,255,255,0.7);
        }
        
        .empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.6;
        }
        
        /* Order Items */
        .order-items {
            font-size: 14px;
            color: rgba(255,255,255,0.9);
            margin-bottom: 16px;
            line-height: 1.6;
        }
        
        .order-total {
            border-top: 1px solid rgba(255,255,255,0.2);
            padding-top: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .total-amount {
            font-size: 20px;
            font-weight: 700;
            color: #67e8f9;
        }
        
        /* Product Grid */
        .product-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
        }
        
        .product-info p {
            font-size: 14px;
            color: rgba(255,255,255,0.8);
            margin-top: 4px;
        }
        
        .product-price {
            text-align: right;
        }
        
        .price {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #67e8f9;
        }
        
        /* Order Form Specific */
        .order-item {
            background: #f9fafb;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            border: 1px solid #e5e7eb;
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .item-name {
            font-weight: 700;
            color: #1f2937;
            font-size: 16px;
        }
        
        .item-price {
            font-size: 14px;
            color: #6b7280;
            margin-top: 4px;
        }
        
        .item-total {
            font-weight: 700;
            color: #0891b2;
            font-size: 16px;
        }
        
        .quantity-input {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .quantity-input input {
            flex: 1;
            padding: 14px 16px;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
            background: white;
            color: #1f2937;
            text-align: center;
            font-size: 16px;
            font-weight: 600;
        }
        
        .quantity-input input:focus {
            outline: none;
            border-color: #0891b2;
            box-shadow: 0 0 0 3px rgba(8, 145, 178, 0.1);
        }
        
        .unit-label {
            color: #6b7280;
            font-size: 14px;
            font-weight: 600;
            width: 48px;
            text-align: center;
        }
        
        .order-summary {
            background: linear-gradient(135deg, #f0fdfa, #ccfbf1);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #99f6e4;
        }
        
        .summary-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .summary-label {
            font-weight: 700;
            color: #1f2937;
            font-size: 18px;
        }
        
        .summary-amount {
            font-size: 28px;
            font-weight: 800;
            color: #0d9488;
        }
        
        /* Settings Styles */
        .settings-section {
            background: rgba(255,255,255,0.18);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .settings-section h3 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .settings-preview {
            background: rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 16px;
            margin-top: 16px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .preview-label {
            font-size: 12px;
            color: rgba(255,255,255,0.7);
            margin-bottom: 8px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .preview-text {
            font-size: 14px;
            color: rgba(255,255,255,0.9);
            line-height: 1.4;
        }
        
        /* Success Message */
        .success-message {
            position: fixed;
            top: 120px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #0891b2, #0e7490);
            color: white;
            padding: 16px 24px;
            border-radius: 16px;
            font-weight: 600;
            box-shadow: 0 8px 32px rgba(8, 145, 178, 0.3);
            z-index: 250;
            opacity: 0;
            transform: translateX(-50%) translateY(-20px);
            transition: all 0.3s ease;
        }
        
        .success-message.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        /* Offline Status Indicator */
        .offline-badge {
            position: fixed;
            top: 88px;
            right: 20px;
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            z-index: 110;
            box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
        }
        
        /* Mobile Optimizations */
        @media screen and (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .actions-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .form-actions {
                grid-template-columns: 1fr;
            }
        }
        
        @media screen and (orientation: landscape) and (max-height: 500px) {
            .main-content {
                padding-bottom: 100px;
            }
        }
        
        /* Safe area adjustments for notched phones */
        @supports (padding: max(0px)) {
            .status-bar {
                padding-top: env(safe-area-inset-top);
                height: calc(44px + env(safe-area-inset-top));
            }
            
            .bottom-nav {
                padding-bottom: calc(32px + env(safe-area-inset-bottom));
            }
        }
    </style>
</head>
<body>
    <div class="mobile-container">
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="time" id="status-time">9:41</div>
            <div class="indicators">
                <span>📶</span>
                <span>📱</span>
                <span>🔋</span>
            </div>
        </div>
        
        <!-- Offline Status -->
        <div class="offline-badge">
            🔒 OFFLINE MODE
        </div>
        
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <div class="app-icon">🥬</div>
                <div class="app-title">
                    <h1>VegeOrder</h1>
                    <p>Offline Malaysian Vegetables</p>
                </div>
            </div>
            <div class="header-right">
                <div class="stats">
                    <p id="current-date">Today</p>
                    <p id="daily-sales">RM 0.00</p>
                </div>
                <button class="settings-btn" onclick="openSettings()" title="Company Settings">
                    ⚙️
                </button>
            </div>
        </div>

        <!-- Success Message -->
        <div id="success-message" class="success-message">
            ✅ Data saved successfully!
        </div>

        <!-- Main Content -->
        <div class="main-content" id="main-content">
            <!-- Dashboard View -->
            <div id="dashboard-view" class="view">
                <!-- Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Customers</div>
                        <div class="stat-value" id="customers-count">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Vegetables</div>
                        <div class="stat-value" id="products-count">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Orders</div>
                        <div class="stat-value" id="orders-count">0</div>
                    </div>
                </div>

                <!-- Performance Card -->
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                        <h3 style="font-weight: 700; font-size: 18px;">Today's Sales</h3>
                        <span style="font-size: 24px;">📈</span>
                    </div>
                    <div style="font-size: 32px; font-weight: 800; margin-bottom: 12px; color: #67e8f9;" id="total-sales">RM 0.00</div>
                    <div style="display: flex; justify-content: space-between; font-size: 14px; color: rgba(255,255,255,0.9);">
                        <span>Pending: <span id="pending-count" style="font-weight: 700;">0</span></span>
                        <span>Done: <span id="completed-count" style="font-weight: 700;">0</span></span>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="card">
                    <h3 style="font-weight: 700; margin-bottom: 16px; font-size: 18px;">Quick Actions</h3>
                    <div class="actions-grid">
                        <button class="action-btn cyan" onclick="openOrderForm()">
                            <span class="icon">➕</span>
                            <span style="font-weight: 700;">New Order</span>
                        </button>
                        <button class="action-btn blue" onclick="showView('orders')">
                            <span class="icon">🛒</span>
                            <span style="font-weight: 700;">View Orders</span>
                        </button>
                        <button class="action-btn teal" onclick="openSettings()" style="width: 100%; margin-top: 16px;">
                            <span class="icon">⚙️</span>
                            <span style="font-weight: 700;">Company Settings</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Orders -->
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                        <h3 style="font-weight: 700; font-size: 18px;">Recent Orders</h3>
                        <button style="background: none; border: none; color: rgba(255,255,255,0.8); font-size: 14px; cursor: pointer; font-weight: 600;" onclick="showView('orders')">View All</button>
                    </div>
                    <div id="recent-orders"></div>
                </div>
            </div>

            <!-- Customers View -->
            <div id="customers-view" class="view hidden">
                <div class="section-header">
                    <h2 class="section-title">Customers</h2>
                    <button class="add-btn" onclick="openCustomerForm()">
                        <span>➕</span>
                    </button>
                </div>

                <div class="search-container">
                    <span class="search-icon">🔍</span>
                    <input type="text" class="input" placeholder="Search customers..." id="customer-search">
                </div>

                <div id="customers-list"></div>
            </div>

            <!-- Products View -->
            <div id="products-view" class="view hidden">
                <div class="section-header">
                    <h2 class="section-title">Vegetables</h2>
                    <button class="add-btn btn-success" onclick="openProductForm()" style="background: linear-gradient(135deg, #0891b2, #0e7490);">
                        <span>➕</span>
                    </button>
                </div>

                <div class="search-container">
                    <span class="search-icon">🔍</span>
                    <input type="text" class="input" placeholder="Search vegetables..." id="product-search">
                </div>

                <!-- Category Filters -->
                <div class="category-filters" id="category-filters">
                    <!-- Categories populated by JavaScript -->
                </div>

                <div class="product-grid" id="products-list"></div>
            </div>

            <!-- Orders View -->
            <div id="orders-view" class="view hidden">
                <div class="section-header">
                    <h2 class="section-title">Orders</h2>
                    <button class="add-btn" onclick="openOrderForm()" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">
                        <span>➕</span>
                    </button>
                </div>

                <input type="date" class="input" id="order-date" style="margin-bottom: 16px;">
                
                <div class="filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="pending">Pending</button>
                    <button class="filter-btn" data-filter="completed">Completed</button>
                </div>

                <div id="orders-list"></div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view hidden">
                <div class="section-header">
                    <h2 class="section-title">Company Settings</h2>
                    <button class="icon-btn" onclick="showView('dashboard')" title="Back to Dashboard">
                        <span>←</span>
                    </button>
                </div>

                <div class="settings-section">
                    <h3>🏢 Company Information</h3>
                    <form id="company-form">
                        <input type="text" class="input" placeholder="Company Name *" id="company-name" required>
                        <input type="text" class="input" placeholder="Business Tagline" id="company-tagline">
                        <input type="tel" class="input" placeholder="Phone Number *" id="company-phone" required>
                        <input type="email" class="input" placeholder="Email Address *" id="company-email" required>
                        <input type="text" class="input" placeholder="Website (optional)" id="company-website">
                        <textarea class="input" placeholder="Business Address *" id="company-address" rows="3" style="resize: none; min-height: 80px;" required></textarea>
                        
                        <div style="margin-top: 24px;">
                            <button type="submit" class="btn btn-success" style="width: 100%;">
                                💾 Save Company Settings
                            </button>
                        </div>
                    </form>
                </div>

                <div class="settings-section">
                    <h3>👤 Business Owner</h3>
                    <form id="owner-form">
                        <input type="text" class="input" placeholder="Owner/Manager Name" id="owner-name">
                        <input type="text" class="input" placeholder="Position/Title" id="owner-title">
                        <input type="tel" class="input" placeholder="Direct Phone" id="owner-phone">
                        <input type="email" class="input" placeholder="Direct Email" id="owner-email">
                        
                        <div style="margin-top: 24px;">
                            <button type="submit" class="btn btn-purple" style="width: 100%;">
                                👤 Save Owner Details
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Settings Preview -->
                <div class="settings-section">
                    <h3>👀 Current Settings Preview</h3>
                    <div class="settings-preview">
                        <div class="preview-label">Company Information</div>
                        <div class="preview-text" id="preview-company">
                            No company information set yet.
                        </div>
                    </div>
                    <div class="settings-preview">
                        <div class="preview-label">Business Owner</div>
                        <div class="preview-text" id="preview-owner">
                            No owner information set yet.
                        </div>
                    </div>
                </div>

                <!-- Reset Settings -->
                <div class="settings-section">
                    <h3>🔄 Reset Settings</h3>
                    <p style="margin-bottom: 16px; color: rgba(255,255,255,0.8); font-size: 14px;">
                        This will reset all company settings to default values. This action cannot be undone.
                    </p>
                    <button class="btn btn-danger" style="width: 100%;" onclick="resetAllSettings()">
                        🗑️ Reset All Settings
                    </button>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-items">
                <div class="nav-item active" onclick="showView('dashboard')">
                    <span class="icon">🏠</span>
                    <span>Home</span>
                </div>
                <div class="nav-item" onclick="showView('customers')">
                    <span class="icon">👥</span>
                    <span>Customers</span>
                </div>
                <div class="nav-item" onclick="showView('products')">
                    <span class="icon">🥬</span>
                    <span>Vegetables</span>
                </div>
                <div class="nav-item" onclick="showView('orders')">
                    <span class="icon">🛒</span>
                    <span>Orders</span>
                </div>
                <div class="nav-item" onclick="showView('settings')">
                    <span class="icon">⚙️</span>
                    <span>Settings</span>
                </div>
            </div>
            <div class="home-indicator"></div>
        </div>
    </div>

    <!-- Customer Form Modal -->
    <div id="customer-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="customer-modal-title">Add Customer</h3>
                <button class="close-btn" onclick="closeCustomerForm()">✕</button>
            </div>
            <div class="modal-body">
                <form id="customer-form">
                    <input type="text" class="form-input" placeholder="Customer Name *" id="customer-name" required>
                    <input type="tel" class="form-input" placeholder="Phone Number" id="customer-phone">
                    <textarea class="form-input" placeholder="Address" id="customer-address" rows="3" style="resize: none; min-height: 80px;"></textarea>
                    <input type="email" class="form-input" placeholder="Email" id="customer-email">
                    
                    <div class="form-actions">
                        <button type="submit" class="form-btn" style="background: linear-gradient(135deg, #0891b2, #0e7490);">Save</button>
                        <button type="button" class="form-btn" style="background: linear-gradient(135deg, #6b7280, #4b5563);" onclick="closeCustomerForm()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Product Form Modal -->
    <div id="product-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="product-modal-title">Add Vegetable</h3>
                <button class="close-btn" onclick="closeProductForm()">✕</button>
            </div>
            <div class="modal-body">
                <form id="product-form">
                    <input type="text" class="form-input" placeholder="Vegetable Name *" id="product-name" required>
                    <select class="form-input" id="product-category" style="color: #1f2937; font-weight: 600;">
                        <option value="">Select Category</option>
                        <!-- Categories populated by JavaScript -->
                    </select>
                    <input type="text" class="form-input" placeholder="Unit (kg, piece, head, bunch, etc.)" id="product-unit">
                    <input type="number" class="form-input" placeholder="Price (RM) *" id="product-price" step="0.01" required>
                    
                    <div class="form-actions">
                        <button type="submit" class="form-btn" style="background: linear-gradient(135deg, #0891b2, #0e7490);">Save</button>
                        <button type="button" class="form-btn" style="background: linear-gradient(135deg, #6b7280, #4b5563);" onclick="closeProductForm()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Order Form Modal -->
    <div id="order-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create Order</h3>
                <button class="close-btn" onclick="closeOrderForm()">✕</button>
            </div>
            <div class="modal-body">
                <form id="order-form">
                    <label style="display: block; color: #374151; font-weight: 700; margin-bottom: 12px; font-size: 16px;">Select Customer *</label>
                    <select class="form-input" id="order-customer" required style="color: #374151; font-weight: 600;">
                        <option value="">Choose customer...</option>
                    </select>
                    
                    <div id="order-items" class="hidden">
                        <label style="display: block; color: #374151; font-weight: 700; margin-bottom: 12px; font-size: 16px;">Order Items</label>
                        
                        <div style="position: relative; margin-bottom: 16px;">
                            <input type="text" placeholder="Search vegetables..." id="order-search" 
                                   style="width: 100%; padding: 12px 16px 12px 40px; border-radius: 12px; border: 1px solid #d1d5db; font-size: 14px;"
                                   oninput="filterOrderItems(this.value)">
                            <span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #6b7280;">🔍</span>
                        </div>
                        
                        <!-- Order Category Filters -->
                        <div class="category-filters" id="order-category-filters" style="margin-bottom: 16px;">
                            <!-- Categories populated by JavaScript -->
                        </div>
                        
                        <div id="order-items-list" style="max-height: 300px; overflow-y: auto; -webkit-overflow-scrolling: touch;"></div>
                        
                        <div class="order-summary">
                            <div class="summary-total">
                                <span class="summary-label">Total:</span>
                                <span class="summary-amount" id="order-total">RM 0.00</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="form-btn" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">Create Order</button>
                        <button type="button" class="form-btn" style="background: linear-gradient(135deg, #6b7280, #4b5563);" onclick="closeOrderForm()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Order Details Modal -->
    <div id="order-details-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Order Details</h3>
                <button class="close-btn" onclick="closeOrderDetails()">✕</button>
            </div>
            <div class="modal-body" id="order-details-content">
                <!-- Content populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // ========================================
        // COMPLETE OFFLINE MALAYSIAN VEGETABLE DATABASE
        // ========================================
        
        // App State Variables
        var currentView = 'dashboard';
        var customers = [];
        var products = [];
        var orders = [];
        var selectedDate = new Date().toISOString().split('T')[0];
        var orderFilter = 'all';
        var editingCustomer = null;
        var editingProduct = null;
        var editingOrder = null;
        var selectedOrderDetails = null;
        var selectedCategory = 'all';
        var selectedOrderCategory = 'all';

        // Company Settings State
        var companySettings = {
            name: '',
            tagline: '',
            phone: '',
            email: '',
            website: '',
            address: '',
            ownerName: '',
            ownerTitle: '',
            ownerPhone: '',
            ownerEmail: ''
        };

        // Storage Keys
        var STORAGE_KEYS = {
            COMPANY_SETTINGS: 'vegeorder_offline_company_settings',
            CUSTOMERS: 'vegeorder_offline_customers',
            PRODUCTS: 'vegeorder_offline_products',
            ORDERS: 'vegeorder_offline_orders'
        };

        // ========================================
        // COMPLETE OFFLINE VEGETABLE DATABASE
        // 300+ Malaysian Vegetables - Fully Offline
        // ========================================
        function getOfflineVegetableDatabase() {
            return [
                // === LEAFY GREENS & SALADS (50 varieties) ===
                { id: 1, name: 'Kangkung 通菜/空心菜 (Water Spinach)', unit: 'kg', price: 4.50, category: 'Leafy Greens', desc: 'Popular Malaysian water spinach, excellent for stir-fry' },
                { id: 2, name: 'Sawi Hijau 芥菜/青菜 (Chinese Mustard Green)', unit: 'kg', price: 5.00, category: 'Leafy Greens', desc: 'Traditional green mustard, common in Malaysian dishes' },
                { id: 3, name: 'Sawi Putih 白菜/大白菜 (Chinese Cabbage)', unit: 'kg', price: 4.80, category: 'Leafy Greens', desc: 'Large white cabbage, perfect for soups and steamboat' },
                { id: 4, name: 'Bayam 苋菜/红苋菜 (Red Spinach)', unit: 'kg', price: 4.20, category: 'Leafy Greens', desc: 'Nutritious red spinach, high in iron' },
                { id: 5, name: 'Bayam Pasir 菠菜 (Spinach)', unit: 'kg', price: 8.50, category: 'Leafy Greens', desc: 'Premium spinach variety, tender leaves' },
                { id: 6, name: 'Lettuce Iceberg 冰山生菜 (Iceberg Lettuce)', unit: 'head', price: 4.50, category: 'Leafy Greens', desc: 'Crispy lettuce head, perfect for salads' },
                { id: 7, name: 'Pak Choy 白菜仔/小白菜 (Bok Choy)', unit: 'kg', price: 5.50, category: 'Leafy Greens', desc: 'Baby white cabbage, tender and sweet' },
                { id: 8, name: 'Kailan 芥兰/芥蓝 (Chinese Broccoli)', unit: 'kg', price: 7.00, category: 'Leafy Greens', desc: 'Chinese broccoli with thick stems, rich in nutrients' },
                { id: 9, name: 'Choy Sum 菜心/白菜心 (Choy Sum)', unit: 'kg', price: 6.20, category: 'Leafy Greens', desc: 'Heart of vegetables, tender yellow flowers' },
                { id: 10, name: 'Xiao Bai Cai 小白菜 (Baby Bok Choy)', unit: 'kg', price: 6.80, category: 'Leafy Greens', desc: 'Mini bok choy, perfect for dim sum' },
                { id: 11, name: 'Lettuce Romaine 长叶生菜 (Romaine Lettuce)', unit: 'head', price: 5.20, category: 'Leafy Greens', desc: 'Long crispy lettuce, ideal for Caesar salad' },
                { id: 12, name: 'Lettuce Butter 奶油生菜 (Butter Lettuce)', unit: 'head', price: 4.80, category: 'Leafy Greens', desc: 'Soft buttery lettuce, delicate texture' },
                { id: 13, name: 'Selada Air 水芹菜 (Watercress)', unit: 'kg', price: 12.00, category: 'Leafy Greens', desc: 'Peppery watercress, great for soups' },
                { id: 14, name: 'Pokok Ubi 番薯叶 (Sweet Potato Leaves)', unit: 'kg', price: 3.50, category: 'Leafy Greens', desc: 'Nutritious sweet potato leaves, local favorite' },
                { id: 15, name: 'Daun Ubi Kayu 木薯叶 (Cassava Leaves)', unit: 'kg', price: 4.00, category: 'Leafy Greens', desc: 'Traditional cassava leaves, high in protein' },
                { id: 16, name: 'Sayur Manis 菜心菜 (Sauropus)', unit: 'kg', price: 8.00, category: 'Leafy Greens', desc: 'Sweet vegetable leaves, popular in rural areas' },
                { id: 17, name: 'Pucuk Paku 蕨菜 (Fiddlehead Fern)', unit: 'kg', price: 15.00, category: 'Leafy Greens', desc: 'Wild fern shoots, seasonal delicacy' },
                { id: 18, name: 'Daun Pegaga 积雪草 (Pennywort)', unit: 'kg', price: 12.00, category: 'Leafy Greens', desc: 'Medicinal herb, good for health' },
                { id: 19, name: 'Daun Kesum 蓼科叶 (Laksa Leaf)', unit: 'kg', price: 25.00, category: 'Leafy Greens', desc: 'Essential laksa herb, aromatic' },
                { id: 20, name: 'Tung Choy 通菜 (Chinese Water Spinach)', unit: 'kg', price: 5.20, category: 'Leafy Greens', desc: 'Premium water spinach variety' },
                { id: 21, name: 'Gai Lan 芥蓝花 (Chinese Broccoli Flower)', unit: 'kg', price: 8.50, category: 'Leafy Greens', desc: 'Flowering Chinese broccoli, tender' },
                { id: 22, name: 'Yu Choy 油菜 (Oil Vegetable)', unit: 'kg', price: 6.50, category: 'Leafy Greens', desc: 'Oily vegetable, good for stir-fry' },
                { id: 23, name: 'Wong Bok 黄芽白 (Napa Cabbage)', unit: 'kg', price: 4.20, category: 'Leafy Greens', desc: 'Yellow sprout white cabbage' },
                { id: 24, name: 'Sang Choy 生菜 (Lettuce Chinese)', unit: 'kg', price: 7.80, category: 'Leafy Greens', desc: 'Chinese lettuce variety' },
                { id: 25, name: 'Tatsoi 塌棵菜 (Spoon Mustard)', unit: 'kg', price: 9.50, category: 'Leafy Greens', desc: 'Flat cabbage, spoon-shaped leaves' },
                { id: 26, name: 'Mizuna 水菜 (Japanese Mustard)', unit: 'kg', price: 12.00, category: 'Leafy Greens', desc: 'Japanese water mustard, mild flavor' },
                { id: 27, name: 'Arugula 芝麻菜 (Rocket Salad)', unit: 'kg', price: 15.00, category: 'Leafy Greens', desc: 'Peppery rocket leaves, gourmet salad' },
                { id: 28, name: 'Baby Spinach 嫩菠菜 (Baby Spinach)', unit: 'kg', price: 18.00, category: 'Leafy Greens', desc: 'Young tender spinach leaves' },
                { id: 29, name: 'Kale 甘蓝菜 (Curly Kale)', unit: 'kg', price: 16.00, category: 'Leafy Greens', desc: 'Superfood kale, curly variety' },
                { id: 30, name: 'Swiss Chard 瑞士甜菜 (Rainbow Chard)', unit: 'kg', price: 14.00, category: 'Leafy Greens', desc: 'Colorful chard with thick stems' },
                { id: 31, name: 'Endive 苦苣 (Belgian Endive)', unit: 'kg', price: 22.00, category: 'Leafy Greens', desc: 'Bitter chicory, premium salad green' },
                { id: 32, name: 'Radicchio 红菊苣 (Red Chicory)', unit: 'head', price: 8.50, category: 'Leafy Greens', desc: 'Purple-red bitter leaves' },
                { id: 33, name: 'Frisee 法国菊苣 (Curly Endive)', unit: 'head', price: 12.00, category: 'Leafy Greens', desc: 'French curly endive, gourmet green' },
                { id: 34, name: 'Mache 羊齿菜 (Corn Salad)', unit: 'kg', price: 28.00, category: 'Leafy Greens', desc: 'Delicate lamb\'s lettuce' },
                { id: 35, name: 'Mustard Greens 芥菜叶 (Mustard Leaves)', unit: 'kg', price: 5.80, category: 'Leafy Greens', desc: 'Spicy mustard leaves' },
                { id: 36, name: 'Collard Greens 羽衣甘蓝 (Collards)', unit: 'kg', price: 8.50, category: 'Leafy Greens', desc: 'Large smooth leaves, hearty greens' },
                { id: 37, name: 'Dandelion Greens 蒲公英 (Dandelion)', unit: 'kg', price: 18.00, category: 'Leafy Greens', desc: 'Bitter dandelion leaves, medicinal' },
                { id: 38, name: 'Purslane 马齿苋 (Portulaca)', unit: 'kg', price: 12.00, category: 'Leafy Greens', desc: 'Succulent leaves, omega-3 rich' },
                { id: 39, name: 'Malabar Spinach 木耳菜 (Climbing Spinach)', unit: 'kg', price: 8.00, category: 'Leafy Greens', desc: 'Thick fleshy leaves, heat-tolerant' },
                { id: 40, name: 'New Zealand Spinach 新西兰菠菜 (Tetragonia)', unit: 'kg', price: 14.00, category: 'Leafy Greens', desc: 'Salt-tolerant spinach alternative' },
                { id: 41, name: 'Ceylon Spinach 锡兰菠菜 (Tropical Spinach)', unit: 'kg', price: 10.00, category: 'Leafy Greens', desc: 'Heat-resistant tropical spinach' },
                { id: 42, name: 'Garland Chrysanthemum 茼蒿 (Crown Daisy)', unit: 'kg', price: 12.00, category: 'Leafy Greens', desc: 'Aromatic chrysanthemum leaves' },
                { id: 43, name: 'Chinese Leek 韭菜 (Garlic Chives)', unit: 'kg', price: 8.50, category: 'Leafy Greens', desc: 'Flat-leaf chives with garlic flavor' },
                { id: 44, name: 'Water Spinach Tips 空心菜尖 (Kangkung Tips)', unit: 'kg', price: 6.00, category: 'Leafy Greens', desc: 'Tender tips of water spinach' },
                { id: 45, name: 'Chinese Celery 中国芹菜 (Kinchay)', unit: 'kg', price: 9.00, category: 'Leafy Greens', desc: 'Thin-stemmed aromatic celery' },
                { id: 46, name: 'Indian Pennywort 印度积雪草 (Brahmi)', unit: 'kg', price: 15.00, category: 'Leafy Greens', desc: 'Round-leaf medicinal herb' },
                { id: 47, name: 'Thai Basil 九层塔 (Holy Basil)', unit: 'kg', price: 25.00, category: 'Leafy Greens', desc: 'Sacred basil with strong aroma' },
                { id: 48, name: 'Lemon Basil 柠檬罗勒 (Kemangi)', unit: 'kg', price: 20.00, category: 'Leafy Greens', desc: 'Citrusy basil variety' },
                { id: 49, name: 'Perilla 紫苏 (Shiso)', unit: 'kg', price: 30.00, category: 'Leafy Greens', desc: 'Purple mint-family herb' },
                { id: 50, name: 'Lamb\'s Quarters 藜 (Wild Spinach)', unit: 'kg', price: 8.00, category: 'Leafy Greens', desc: 'Wild edible green, foraged' },

                // === MALAYSIAN SPECIALTY VEGETABLES (40 varieties) ===
                { id: 51, name: 'Petai 臭豆/苦豆 (Stink Bean)', unit: 'kg', price: 18.00, category: 'Malaysian Specialty', desc: 'Famous Malaysian stink beans, strong flavor' },
                { id: 52, name: 'Jering 臭臭豆 (Djering)', unit: 'kg', price: 15.00, category: 'Malaysian Specialty', desc: 'Wild tropical bean, acquired taste' },
                { id: 53, name: 'Rebung 竹笋 (Bamboo Shoots)', unit: 'kg', price: 8.50, category: 'Malaysian Specialty', desc: 'Fresh bamboo shoots, seasonal' },
                { id: 54, name: 'Paku Pakis 蕨类 (Wild Fern)', unit: 'kg', price: 12.00, category: 'Malaysian Specialty', desc: 'Indigenous wild fern, forest vegetable' },
                { id: 55, name: 'Ulam Raja 国王菜 (Cosmos)', unit: 'kg', price: 20.00, category: 'Malaysian Specialty', desc: 'Royal salad herb, medicinal properties' },
                { id: 56, name: 'Kesum 蓼 (Vietnamese Mint)', unit: 'kg', price: 25.00, category: 'Malaysian Specialty', desc: 'Essential laksa herb, pungent' },
                { id: 57, name: 'Pegaga 积雪草 (Asiatic Pennywort)', unit: 'kg', price: 15.00, category: 'Malaysian Specialty', desc: 'Brain food herb, circular leaves' },
                { id: 58, name: 'Kacang Botol 翼豆 (Winged Bean)', unit: 'kg', price: 12.00, category: 'Malaysian Specialty', desc: 'Four-angled bean pods' },
                { id: 59, name: 'Terung Pipit 小茄子 (Thai Eggplant)', unit: 'kg', price: 8.50, category: 'Malaysian Specialty', desc: 'Small round green eggplants' },
                { id: 60, name: 'Cekur Manis 甜姜 (Lesser Galangal)', unit: 'kg', price: 35.00, category: 'Malaysian Specialty', desc: 'Sweet aromatic rhizome' },
                { id: 61, name: 'Daun Kaduk 蒌叶 (Wild Pepper Leaf)', unit: 'kg', price: 18.00, category: 'Malaysian Specialty', desc: 'Heart-shaped medicinal leaves' },
                { id: 62, name: 'Pucuk Midin 野蕨菜 (Jungle Fern)', unit: 'kg', price: 28.00, category: 'Malaysian Specialty', desc: 'Sarawak jungle fern delicacy' },
                { id: 63, name: 'Centella 雷公根 (Gotu Kola)', unit: 'kg', price: 22.00, category: 'Malaysian Specialty', desc: 'Memory-enhancing herb' },
                { id: 64, name: 'Kacang Kelisa 四角豆 (Dragon Bean)', unit: 'kg', price: 14.00, category: 'Malaysian Specialty', desc: 'Frilled-edge bean pods' },
                { id: 65, name: 'Daun Limau Purut 卡菲柠檬叶 (Kaffir Lime Leaves)', unit: 'kg', price: 45.00, category: 'Malaysian Specialty', desc: 'Double-lobed aromatic leaves' },
                { id: 66, name: 'Bunga Kantan 火炬姜花 (Torch Ginger Bud)', unit: 'piece', price: 3.50, category: 'Malaysian Specialty', desc: 'Pink ginger flower, laksa ingredient' },
                { id: 67, name: 'Daun Selasih 九层塔 (Thai Basil)', unit: 'kg', price: 28.00, category: 'Malaysian Specialty', desc: 'Purple-stemmed holy basil' },
                { id: 68, name: 'Pucuk Ubi 番薯尖 (Sweet Potato Tips)', unit: 'kg', price: 4.50, category: 'Malaysian Specialty', desc: 'Young sweet potato shoots' },
                { id: 69, name: 'Pokok Cili 辣椒叶 (Chili Leaves)', unit: 'kg', price: 8.00, category: 'Malaysian Specialty', desc: 'Young chili plant leaves' },
                { id: 70, name: 'Tenggek Burung 鸟眼辣椒叶 (Bird Chili Leaves)', unit: 'kg', price: 12.00, category: 'Malaysian Specialty', desc: 'Tiny hot chili leaves' },
                { id: 71, name: 'Daun Bawang 葱叶 (Spring Onion Leaves)', unit: 'kg', price: 15.00, category: 'Malaysian Specialty', desc: 'Green scallion tops' },
                { id: 72, name: 'Kunyit Hidup 新鲜姜黄 (Fresh Turmeric)', unit: 'kg', price: 20.00, category: 'Malaysian Specialty', desc: 'Fresh turmeric rhizome' },
                { id: 73, name: 'Lengkuas 高良姜 (Galangal)', unit: 'kg', price: 25.00, category: 'Malaysian Specialty', desc: 'Blue galangal rhizome' },
                { id: 74, name: 'Halia Muda 嫩姜 (Young Ginger)', unit: 'kg', price: 18.00, category: 'Malaysian Specialty', desc: 'Tender young ginger' },
                { id: 75, name: 'Serai 柠檬草 (Lemongrass)', unit: 'kg', price: 12.00, category: 'Malaysian Specialty', desc: 'Fragrant citrus grass' },
                { id: 76, name: 'Pandan 香兰叶 (Screwpine Leaves)', unit: 'kg', price: 15.00, category: 'Malaysian Specialty', desc: 'Vanilla-scented green leaves' },
                { id: 77, name: 'Daun Kari 咖喱叶 (Curry Leaves)', unit: 'kg', price: 30.00, category: 'Malaysian Specialty', desc: 'Essential South Indian spice leaf' },
                { id: 78, name: 'Bunga Cengkih 丁香花 (Clove Flower)', unit: 'kg', price: 50.00, category: 'Malaysian Specialty', desc: 'Aromatic clove flower buds' },
                { id: 79, name: 'Keladi Tikus 老鼠芋 (Mouse Taro)', unit: 'kg', price: 20.00, category: 'Malaysian Specialty', desc: 'Small medicinal taro' },
                { id: 80, name: 'Ubi Jalar Ungu 紫薯 (Purple Sweet Potato)', unit: 'kg', price: 8.00, category: 'Malaysian Specialty', desc: 'Antioxidant-rich purple tuber' },
                { id: 81, name: 'Terung Asam 酸茄子 (Sour Eggplant)', unit: 'kg', price: 10.00, category: 'Malaysian Specialty', desc: 'Small sour eggplant variety' },
                { id: 82, name: 'Pokok Semangkok 半边莲 (Lobelia)', unit: 'kg', price: 25.00, category: 'Malaysian Specialty', desc: 'Medicinal herb, small blue flowers' },
                { id: 83, name: 'Daun Dukung Anak 鸭舌草 (Monochoria)', unit: 'kg', price: 12.00, category: 'Malaysian Specialty', desc: 'Swamp vegetable, purple flowers' },
                { id: 84, name: 'Kangkung Darat 旱空心菜 (Land Water Spinach)', unit: 'kg', price: 5.00, category: 'Malaysian Specialty', desc: 'Terrestrial water spinach variety' },
                { id: 85, name: 'Bayam Duri 刺苋菜 (Spiny Amaranth)', unit: 'kg', price: 6.00, category: 'Malaysian Specialty', desc: 'Wild spiny amaranth' },
                { id: 86, name: 'Pokok Kacang Tanah 花生叶 (Peanut Leaves)', unit: 'kg', price: 8.00, category: 'Malaysian Specialty', desc: 'Young peanut plant leaves' },
                { id: 87, name: 'Daun Sup 汤菜叶 (Soup Herb)', unit: 'kg', price: 20.00, category: 'Malaysian Specialty', desc: 'Mixed herbs for soup' },
                { id: 88, name: 'Senduduk 野牡丹 (Melastoma)', unit: 'kg', price: 15.00, category: 'Malaysian Specialty', desc: 'Purple berry shrub leaves' },
                { id: 89, name: 'Pokok Gelang Susu 断肠草 (Crown Flower)', unit: 'kg', price: 30.00, category: 'Malaysian Specialty', desc: 'Medicinal milkweed plant' },
                { id: 90, name: 'Daun Sambung Nyawa 接骨草 (Gynura)', unit: 'kg', price: 25.00, category: 'Malaysian Specialty', desc: 'Life-extending medicinal herb' },

                // === GOURDS & SQUASH (35 varieties) ===
                { id: 91, name: 'Labu Kuning 南瓜 (Pumpkin)', unit: 'kg', price: 3.20, category: 'Gourds & Squash', desc: 'Orange pumpkin, sweet flesh' },
                { id: 92, name: 'Petola 丝瓜 (Luffa/Sponge Gourd)', unit: 'kg', price: 4.50, category: 'Gourds & Squash', desc: 'Ridged gourd, tender when young' },
                { id: 93, name: 'Peria 苦瓜 (Bitter Gourd)', unit: 'kg', price: 8.00, category: 'Gourds & Squash', desc: 'Warty bitter melon, very healthy' },
                { id: 94, name: 'Timun 黄瓜 (Cucumber)', unit: 'kg', price: 3.80, category: 'Gourds & Squash', desc: 'Local cucumber, crispy and cool' },
                { id: 95, name: 'Labu Air 冬瓜 (Winter Melon)', unit: 'kg', price: 2.50, category: 'Gourds & Squash', desc: 'Large white gourd, mild flavor' },
                { id: 96, name: 'Labu Botol 葫芦瓜 (Bottle Gourd)', unit: 'kg', price: 3.80, category: 'Gourds & Squash', desc: 'Bottle-shaped gourd' },
                { id: 97, name: 'Timun Jepun 日本黄瓜 (Japanese Cucumber)', unit: 'kg', price: 6.50, category: 'Gourds & Squash', desc: 'Long thin cucumber, seedless' },
                { id: 98, name: 'Labu Merah 红南瓜 (Red Pumpkin)', unit: 'kg', price: 3.50, category: 'Gourds & Squash', desc: 'Orange-red pumpkin variety' },
                { id: 99, name: 'Zucchini 意大利瓜 (Courgette)', unit: 'kg', price: 8.50, category: 'Gourds & Squash', desc: 'Green summer squash' },
                { id: 100, name: 'Labu Kabocha 日本南瓜 (Kabocha Squash)', unit: 'kg', price: 12.00, category: 'Gourds & Squash', desc: 'Sweet Japanese pumpkin' },
                { id: 101, name: 'Timun Belanda 荷兰黄瓜 (Continental Cucumber)', unit: 'piece', price: 4.20, category: 'Gourds & Squash', desc: 'Large European cucumber' },
                { id: 102, name: 'Petola Ular 蛇丝瓜 (Snake Gourd)', unit: 'kg', price: 5.50, category: 'Gourds & Squash', desc: 'Long twisted gourd' },
                { id: 103, name: 'Kundur 冬瓜 (Ash Gourd)', unit: 'kg', price: 2.80, category: 'Gourds & Squash', desc: 'White ash-covered gourd' },
                { id: 104, name: 'Labu Putih 白瓜 (White Gourd)', unit: 'kg', price: 3.20, category: 'Gourds & Squash', desc: 'White-skinned gourd' },
                { id: 105, name: 'Peria Katak 癞蛤蟆瓜 (Spiny Gourd)', unit: 'kg', price: 12.00, category: 'Gourds & Squash', desc: 'Spiky bitter gourd variety' },
                { id: 106, name: 'Labu Manis 甜瓜 (Sweet Gourd)', unit: 'kg', price: 4.50, category: 'Gourds & Squash', desc: 'Sweet-fleshed gourd' },
                { id: 107, name: 'Timun Suri 脆瓜 (Pickled Melon)', unit: 'kg', price: 5.80, category: 'Gourds & Squash', desc: 'Crispy pickled cucumber' },
                { id: 108, name: 'Butternut Squash 奶油瓜 (Butternut)', unit: 'kg', price: 14.00, category: 'Gourds & Squash', desc: 'Tan squash with orange flesh' },
                { id: 109, name: 'Acorn Squash 橡果瓜 (Table Queen)', unit: 'piece', price: 8.50, category: 'Gourds & Squash', desc: 'Acorn-shaped winter squash' },
                { id: 110, name: 'Delicata Squash 条纹瓜 (Cream Squash)', unit: 'kg', price: 16.00, category: 'Gourds & Squash', desc: 'Striped cream-colored squash' },
                { id: 111, name: 'Spaghetti Squash 意粉瓜 (Vegetable Spaghetti)', unit: 'kg', price: 18.00, category: 'Gourds & Squash', desc: 'Yellow squash with stringy flesh' },
                { id: 112, name: 'Pattypan Squash 飞碟瓜 (Scalloped Squash)', unit: 'kg', price: 12.00, category: 'Gourds & Squash', desc: 'UFO-shaped summer squash' },
                { id: 113, name: 'Chayote 合掌瓜 (Choko)', unit: 'kg', price: 6.50, category: 'Gourds & Squash', desc: 'Pear-shaped light green squash' },
                { id: 114, name: 'Yellow Squash 黄瓜 (Summer Squash)', unit: 'kg', price: 10.00, category: 'Gourds & Squash', desc: 'Yellow summer squash' },
                { id: 115, name: 'Crookneck Squash 弯颈瓜 (Yellow Crookneck)', unit: 'kg', price: 11.00, category: 'Gourds & Squash', desc: 'Curved neck yellow squash' },
                { id: 116, name: 'Eight Ball Squash 球形瓜 (Round Zucchini)', unit: 'piece', price: 5.50, category: 'Gourds & Squash', desc: 'Round ball-shaped zucchini' },
                { id: 117, name: 'Tinda 印度瓜 (Indian Baby Pumpkin)', unit: 'kg', price: 8.00, category: 'Gourds & Squash', desc: 'Small round Indian gourd' },
                { id: 118, name: 'Hubbard Squash 哈伯德瓜 (Blue Hubbard)', unit: 'kg', price: 15.00, category: 'Gourds & Squash', desc: 'Large blue-gray winter squash' },
                { id: 119, name: 'Sugar Pie Pumpkin 糖饼南瓜 (Pie Pumpkin)', unit: 'kg', price: 8.50, category: 'Gourds & Squash', desc: 'Small sweet pumpkin for pies' },
                { id: 120, name: 'Honeynut Squash 蜜坚果瓜 (Mini Butternut)', unit: 'piece', price: 4.50, category: 'Gourds & Squash', desc: 'Mini version of butternut squash' },
                { id: 121, name: 'Labu Parang 巴东南瓜 (Parang Pumpkin)', unit: 'kg', price: 4.00, category: 'Gourds & Squash', desc: 'Traditional Malaysian pumpkin' },
                { id: 122, name: 'Terung Dayak 达雅茄子 (Dayak Eggplant)', unit: 'kg', price: 9.00, category: 'Gourds & Squash', desc: 'Indigenous Borneo eggplant' },
                { id: 123, name: 'Peria Laut 海苦瓜 (Sea Bitter Gourd)', unit: 'kg', price: 15.00, category: 'Gourds & Squash', desc: 'Coastal bitter gourd variety' },
                { id: 124, name: 'Timun Manis 甜黄瓜 (Sweet Cucumber)', unit: 'kg', price: 6.00, category: 'Gourds & Squash', desc: 'Sweet variety cucumber' },
                { id: 125, name: 'Labu Panjang 长南瓜 (Long Pumpkin)', unit: 'kg', price: 3.80, category: 'Gourds & Squash', desc: 'Elongated pumpkin variety' },

                // === EGGPLANTS & TOMATOES (25 varieties) ===
                { id: 126, name: 'Terung Ungu 紫茄子 (Purple Eggplant)', unit: 'kg', price: 5.50, category: 'Eggplants & Tomatoes', desc: 'Classic purple eggplant' },
                { id: 127, name: 'Tomato Biasa 番茄 (Regular Tomato)', unit: 'kg', price: 6.00, category: 'Eggplants & Tomatoes', desc: 'Standard red tomato' },
                { id: 128, name: 'Terung Bulat 圆茄子 (Round Eggplant)', unit: 'kg', price: 6.20, category: 'Eggplants & Tomatoes', desc: 'Round purple eggplant' },
                { id: 129, name: 'Cherry Tomato 樱桃番茄 (Cherry Tomatoes)', unit: 'kg', price: 12.00, category: 'Eggplants & Tomatoes', desc: 'Small sweet cherry tomatoes' },
                { id: 130, name: 'Terung Hijau 绿茄子 (Green Eggplant)', unit: 'kg', price: 6.80, category: 'Eggplants & Tomatoes', desc: 'Green-skinned eggplant' },
                { id: 131, name: 'Tomato Roma 罗马番茄 (Plum Tomato)', unit: 'kg', price: 8.50, category: 'Eggplants & Tomatoes', desc: 'Oval paste tomato' },
                { id: 132, name: 'Terung Panjang 长茄子 (Long Eggplant)', unit: 'kg', price: 5.80, category: 'Eggplants & Tomatoes', desc: 'Long slender eggplant' },
                { id: 133, name: 'Terung Cina 中国茄子 (Chinese Eggplant)', unit: 'kg', price: 7.20, category: 'Eggplants & Tomatoes', desc: 'Light purple Chinese variety' },
                { id: 134, name: 'Terung Putih 白茄子 (White Eggplant)', unit: 'kg', price: 8.00, category: 'Eggplants & Tomatoes', desc: 'White-skinned eggplant' },
                { id: 135, name: 'Beef Tomato 牛肉番茄 (Beefsteak Tomato)', unit: 'kg', price: 10.00, category: 'Eggplants & Tomatoes', desc: 'Large meaty tomato' },
                { id: 136, name: 'Terung Thai 泰国茄子 (Thai Eggplant)', unit: 'kg', price: 9.50, category: 'Eggplants & Tomatoes', desc: 'Small round Thai eggplant' },
                { id: 137, name: 'Grape Tomato 葡萄番茄 (Grape Tomatoes)', unit: 'kg', price: 14.00, category: 'Eggplants & Tomatoes', desc: 'Oval grape-shaped tomatoes' },
                { id: 138, name: 'Japanese Eggplant 日本茄子 (Nasu)', unit: 'kg', price: 12.00, category: 'Eggplants & Tomatoes', desc: 'Slender Japanese eggplant' },
                { id: 139, name: 'Heirloom Tomato 传家宝番茄 (Heritage Tomato)', unit: 'kg', price: 18.00, category: 'Eggplants & Tomatoes', desc: 'Multi-colored heritage variety' },
                { id: 140, name: 'Baby Eggplant 小茄子 (Mini Eggplant)', unit: 'kg', price: 11.00, category: 'Eggplants & Tomatoes', desc: 'Tiny decorative eggplants' },
                { id: 141, name: 'San Marzano Tomato 圣马扎诺番茄 (Italian Tomato)', unit: 'kg', price: 22.00, category: 'Eggplants & Tomatoes', desc: 'Premium Italian paste tomato' },
                { id: 142, name: 'Indian Eggplant 印度茄子 (Brinjal)', unit: 'kg', price: 7.50, category: 'Eggplants & Tomatoes', desc: 'Small Indian brinjal variety' },
                { id: 143, name: 'Yellow Tomato 黄番茄 (Golden Tomato)', unit: 'kg', price: 15.00, category: 'Eggplants & Tomatoes', desc: 'Golden yellow tomato' },
                { id: 144, name: 'Ping Tung Eggplant 屏东茄子 (Long Purple)', unit: 'kg', price: 8.50, category: 'Eggplants & Tomatoes', desc: 'Long purple Taiwanese variety' },
                { id: 145, name: 'Green Zebra Tomato 绿斑马番茄 (Striped Tomato)', unit: 'kg', price: 20.00, category: 'Eggplants & Tomatoes', desc: 'Green striped heirloom tomato' },
                { id: 146, name: 'Terung Asam 酸茄子 (Sour Eggplant)', unit: 'kg', price: 10.00, category: 'Eggplants & Tomatoes', desc: 'Sour-tasting small eggplant' },
                { id: 147, name: 'Black Beauty Tomato 黑美人番茄 (Purple Tomato)', unit: 'kg', price: 25.00, category: 'Eggplants & Tomatoes', desc: 'Dark purple-black tomato' },
                { id: 148, name: 'Terung Belah 开裂茄子 (Split Eggplant)', unit: 'kg', price: 8.00, category: 'Eggplants & Tomatoes', desc: 'Naturally split eggplant variety' },
                { id: 149, name: 'Tomatillo 墨西哥番茄 (Husk Tomato)', unit: 'kg', price: 18.00, category: 'Eggplants & Tomatoes', desc: 'Green husk-covered tomato' },
                { id: 150, name: 'Fairy Tale Eggplant 童话茄子 (Striped Mini)', unit: 'kg', price: 15.00, category: 'Eggplants & Tomatoes', desc: 'Small striped decorative eggplant' },

                // === BEANS & PODS (30 varieties) ===
                { id: 151, name: 'Bendi 秋葵/羊角豆 (Okra/Ladies Finger)', unit: 'kg', price: 7.20, category: 'Beans & Pods', desc: 'Green pod vegetable, slimy texture' },
                { id: 152, name: 'Kacang Panjang 长豆/豇豆 (Long Beans)', unit: 'kg', price: 6.50, category: 'Beans & Pods', desc: 'Very long green beans' },
                { id: 153, name: 'Taugeh 豆芽菜 (Bean Sprouts)', unit: 'kg', price: 3.50, category: 'Beans & Pods', desc: 'Fresh mung bean sprouts' },
                { id: 154, name: 'Kacang Buncis 四季豆 (French Beans)', unit: 'kg', price: 8.50, category: 'Beans & Pods', desc: 'Green string beans' },
                { id: 155, name: 'Snow Peas 荷兰豆 (Mangetout)', unit: 'kg', price: 18.00, category: 'Beans & Pods', desc: 'Flat edible pod peas' },
                { id: 156, name: 'Sugar Snap Peas 甜豆荚 (Snap Peas)', unit: 'kg', price: 22.00, category: 'Beans & Pods', desc: 'Plump sweet edible pods' },
                { id: 157, name: 'Edamame 毛豆 (Young Soybean)', unit: 'kg', price: 15.00, category: 'Beans & Pods', desc: 'Young fuzzy soybean pods' },
                { id: 158, name: 'Kacang Merah 红豆荚 (Red Bean Pods)', unit: 'kg', price: 12.00, category: 'Beans & Pods', desc: 'Fresh red bean pods' },
                { id: 159, name: 'Drumstick 辣木果 (Moringa Pods)', unit: 'kg', price: 8.00, category: 'Beans & Pods', desc: 'Long nutritious moringa pods' },
                { id: 160, name: 'Romano Beans 意大利扁豆 (Flat Beans)', unit: 'kg', price: 14.00, category: 'Beans & Pods', desc: 'Wide flat Italian beans' },
                { id: 161, name: 'Purple Beans 紫豆角 (Purple French Beans)', unit: 'kg', price: 16.00, category: 'Beans & Pods', desc: 'Purple-colored green beans' },
                { id: 162, name: 'Yellow Beans 黄豆角 (Yellow Wax Beans)', unit: 'kg', price: 15.00, category: 'Beans & Pods', desc: 'Yellow waxy bean pods' },
                { id: 163, name: 'Runner Beans 蔓生豆 (Scarlet Runner)', unit: 'kg', price: 18.00, category: 'Beans & Pods', desc: 'Large climbing bean variety' },
                { id: 164, name: 'Lima Beans 利马豆 (Butter Beans)', unit: 'kg', price: 20.00, category: 'Beans & Pods', desc: 'Large flat lima bean pods' },
                { id: 165, name: 'Fava Beans 蚕豆 (Broad Beans)', unit: 'kg', price: 25.00, category: 'Beans & Pods', desc: 'Large broad bean pods' },
                { id: 166, name: 'Black-eyed Peas 黑眼豆 (Cowpeas)', unit: 'kg', price: 14.00, category: 'Beans & Pods', desc: 'Black-spotted bean pods' },
                { id: 167, name: 'Hyacinth Beans 扁豆 (Lablab)', unit: 'kg', price: 12.00, category: 'Beans & Pods', desc: 'Purple-flowered climbing beans' },
                { id: 168, name: 'Tamarind Pods 罗望子荚 (Tamarind)', unit: 'kg', price: 8.50, category: 'Beans & Pods', desc: 'Sour brown tamarind pods' },
                { id: 169, name: 'Cluster Beans 四棱豆 (Guar)', unit: 'kg', price: 10.00, category: 'Beans & Pods', desc: 'Clustered small bean pods' },
                { id: 170, name: 'Adzuki Bean Pods 红小豆荚 (Red Bean)', unit: 'kg', price: 16.00, category: 'Beans & Pods', desc: 'Small red bean pods' },
                { id: 171, name: 'Mung Bean Pods 绿豆荚 (Green Gram)', unit: 'kg', price: 14.00, category: 'Beans & Pods', desc: 'Small green bean pods' },
                { id: 172, name: 'Pigeon Pea Pods 木豆荚 (Toor Dal)', unit: 'kg', price: 12.00, category: 'Beans & Pods', desc: 'Yellow pigeon pea pods' },
                { id: 173, name: 'Chickpea Pods 鹰嘴豆荚 (Garbanzo)', unit: 'kg', price: 18.00, category: 'Beans & Pods', desc: 'Inflated chickpea pods' },
                { id: 174, name: 'Lentil Pods 小扁豆荚 (Masoor)', unit: 'kg', price: 20.00, category: 'Beans & Pods', desc: 'Small flat lentil pods' },
                { id: 175, name: 'Yardlong Beans 尺豆 (Asparagus Bean)', unit: 'kg', price: 7.80, category: 'Beans & Pods', desc: 'Extra long thin beans' },
                { id: 176, name: 'Kacang Koro 刀豆 (Sword Bean)', unit: 'kg', price: 9.00, category: 'Beans & Pods', desc: 'Large flat sword-shaped pods' },
                { id: 177, name: 'Green Peas 青豆 (Garden Peas)', unit: 'kg', price: 16.00, category: 'Beans & Pods', desc: 'Fresh green pea pods' },
                { id: 178, name: 'Taugeh Kacang Hijau 绿豆芽 (Mung Bean Sprouts)', unit: 'kg', price: 4.00, category: 'Beans & Pods', desc: 'Thick mung bean sprouts' },
                { id: 179, name: 'Kacang Tanah Segar 新鲜花生 (Fresh Peanuts)', unit: 'kg', price: 12.00, category: 'Beans & Pods', desc: 'Fresh unroasted peanut pods' },
                { id: 180, name: 'Kacang Botol Muda 嫩翼豆 (Young Winged Beans)', unit: 'kg', price: 14.00, category: 'Beans & Pods', desc: 'Tender young winged bean pods' },

                // === ONIONS & AROMATICS (20 varieties) ===
                { id: 181, name: 'Bawang Merah 红葱头 (Shallots)', unit: 'kg', price: 8.00, category: 'Onions & Aromatics', desc: 'Small red onions, strong flavor' },
                { id: 182, name: 'Bawang Putih 蒜头/大蒜 (Garlic)', unit: 'kg', price: 18.00, category: 'Onions & Aromatics', desc: 'White garlic bulbs' },
                { id: 183, name: 'Bawang Besar Merah 红洋葱 (Red Onions)', unit: 'kg', price: 5.00, category: 'Onions & Aromatics', desc: 'Large red onions' },
                { id: 184, name: 'Bawang Putih Besar 白洋葱 (White Onions)', unit: 'kg', price: 4.80, category: 'Onions & Aromatics', desc: 'Large white onions' },
                { id: 185, name: 'Bawang Kuning 黄洋葱 (Yellow Onions)', unit: 'kg', price: 4.50, category: 'Onions & Aromatics', desc: 'Golden yellow onions' },
                { id: 186, name: 'Spring Onion 青葱/小葱 (Scallions)', unit: 'kg', price: 12.00, category: 'Onions & Aromatics', desc: 'Green onions with white bulbs' },
                { id: 187, name: 'Leek 韭葱/大葱 (Leeks)', unit: 'kg', price: 15.00, category: 'Onions & Aromatics', desc: 'Large mild onion relatives' },
                { id: 188, name: 'Chives 韭菜 (Chinese Chives)', unit: 'kg', price: 8.50, category: 'Onions & Aromatics', desc: 'Flat garlic chives' },
                { id: 189, name: 'Garlic Chives 韭黄 (Yellow Chives)', unit: 'kg', price: 12.00, category: 'Onions & Aromatics', desc: 'Blanched yellow chives' },
                { id: 190, name: 'Shallot Leaves 葱白叶 (Shallot Greens)', unit: 'kg', price: 14.00, category: 'Onions & Aromatics', desc: 'Green tops of shallots' },
                { id: 191, name: 'Pearl Onions 珍珠洋葱 (Button Onions)', unit: 'kg', price: 12.00, category: 'Onions & Aromatics', desc: 'Tiny white onions' },
                { id: 192, name: 'Sweet Onions 甜洋葱 (Vidalia)', unit: 'kg', price: 8.50, category: 'Onions & Aromatics', desc: 'Mild sweet onions' },
                { id: 193, name: 'Cipollini Onions 意大利洋葱 (Flat Onions)', unit: 'kg', price: 16.00, category: 'Onions & Aromatics', desc: 'Flat Italian onions' },
                { id: 194, name: 'Elephant Garlic 象蒜 (Giant Garlic)', unit: 'piece', price: 15.00, category: 'Onions & Aromatics', desc: 'Huge mild garlic bulbs' },
                { id: 195, name: 'Wild Garlic 野蒜 (Ramps)', unit: 'kg', price: 35.00, category: 'Onions & Aromatics', desc: 'Wild forest garlic with leaves' },
                { id: 196, name: 'Bawang Bombay 孟买洋葱 (Bombay Onions)', unit: 'kg', price: 6.00, category: 'Onions & Aromatics', desc: 'Large Indian onion variety' },
                { id: 197, name: 'Chinese Leek Flowers 韭菜花 (Chive Flowers)', unit: 'kg', price: 15.00, category: 'Onions & Aromatics', desc: 'Flowering chive stems' },
                { id: 198, name: 'Pickled Shallots 腌葱头 (Preserved Shallots)', unit: 'kg', price: 20.00, category: 'Onions & Aromatics', desc: 'Fermented shallot bulbs' },
                { id: 199, name: 'Japanese Bunching Onion 日本葱 (Negi)', unit: 'kg', price: 18.00, category: 'Onions & Aromatics', desc: 'Long thick Japanese scallions' },
                { id: 200, name: 'Welsh Onion 胡葱 (Evergreen Onion)', unit: 'kg', price: 16.00, category: 'Onions & Aromatics', desc: 'Perennial hollow-leaf onions' },

                // === PEPPERS & CHILIES (25 varieties) ===
                { id: 201, name: 'Cili Merah 红辣椒 (Red Chili)', unit: 'kg', price: 15.00, category: 'Peppers & Chilies', desc: 'Medium hot red chilies' },
                { id: 202, name: 'Cili Padi 小辣椒 (Bird Eye Chili)', unit: 'kg', price: 25.00, category: 'Peppers & Chilies', desc: 'Tiny extremely hot chilies' },
                { id: 203, name: 'Capsicum Merah 红甜椒 (Red Bell Pepper)', unit: 'kg', price: 14.00, category: 'Peppers & Chilies', desc: 'Sweet red bell peppers' },
                { id: 204, name: 'Capsicum Hijau 青椒 (Green Bell Pepper)', unit: 'kg', price: 12.00, category: 'Peppers & Chilies', desc: 'Green bell peppers' },
                { id: 205, name: 'Capsicum Kuning 黄椒 (Yellow Bell Pepper)', unit: 'kg', price: 15.00, category: 'Peppers & Chilies', desc: 'Sweet yellow peppers' },
                { id: 206, name: 'Cili Hijau 青辣椒 (Green Chili)', unit: 'kg', price: 12.00, category: 'Peppers & Chilies', desc: 'Medium hot green chilies' },
                { id: 207, name: 'Cili Besar 大辣椒 (Large Chili)', unit: 'kg', price: 10.00, category: 'Peppers & Chilies', desc: 'Large mild red chilies' },
                { id: 208, name: 'Jalapeño 墨西哥辣椒 (Jalapeño Pepper)', unit: 'kg', price: 20.00, category: 'Peppers & Chilies', desc: 'Mexican hot green peppers' },
                { id: 209, name: 'Habanero 哈瓦那辣椒 (Habanero)', unit: 'kg', price: 45.00, category: 'Peppers & Chilies', desc: 'Extremely hot orange peppers' },
                { id: 210, name: 'Serrano 塞拉诺辣椒 (Serrano Pepper)', unit: 'kg', price: 25.00, category: 'Peppers & Chilies', desc: 'Small very hot green peppers' },
                { id: 211, name: 'Poblano 波布拉诺椒 (Poblano Pepper)', unit: 'kg', price: 18.00, category: 'Peppers & Chilies', desc: 'Large mild dark green peppers' },
                { id: 212, name: 'Anaheim 阿纳海姆椒 (New Mexico Chili)', unit: 'kg', price: 16.00, category: 'Peppers & Chilies', desc: 'Long mild green chilies' },
                { id: 213, name: 'Cayenne 卡宴椒 (Cayenne Pepper)', unit: 'kg', price: 30.00, category: 'Peppers & Chilies', desc: 'Long thin very hot red peppers' },
                { id: 214, name: 'Thai Chili 泰椒 (Thai Dragon)', unit: 'kg', price: 35.00, category: 'Peppers & Chilies', desc: 'Small fiery Thai chilies' },
                { id: 215, name: 'Banana Pepper 香蕉椒 (Yellow Pepper)', unit: 'kg', price: 14.00, category: 'Peppers & Chilies', desc: 'Mild yellow banana-shaped peppers' },
                { id: 216, name: 'Hungarian Wax 匈牙利蜡椒 (Hot Wax)', unit: 'kg', price: 18.00, category: 'Peppers & Chilies', desc: 'Waxy yellow hot peppers' },
                { id: 217, name: 'Fresno 弗雷斯诺椒 (Fresno Pepper)', unit: 'kg', price: 22.00, category: 'Peppers & Chilies', desc: 'Medium-hot red Fresno peppers' },
                { id: 218, name: 'Scotch Bonnet 苏格兰帽椒 (Caribbean Hot)', unit: 'kg', price: 50.00, category: 'Peppers & Chilies', desc: 'Extremely hot Caribbean peppers' },
                { id: 219, name: 'Ghost Pepper 魔鬼椒 (Bhut Jolokia)', unit: 'kg', price: 80.00, category: 'Peppers & Chilies', desc: 'One of world\'s hottest peppers' },
                { id: 220, name: 'Carolina Reaper 卡罗来纳死神椒 (World\'s Hottest)', unit: 'kg', price: 150.00, category: 'Peppers & Chilies', desc: 'Currently world\'s hottest pepper' },
                { id: 221, name: 'Cili Api 火辣椒 (Fire Chili)', unit: 'kg', price: 28.00, category: 'Peppers & Chilies', desc: 'Very hot local variety' },
                { id: 222, name: 'Cili Manis 甜椒 (Sweet Chili)', unit: 'kg', price: 16.00, category: 'Peppers & Chilies', desc: 'Mild sweet chili peppers' },
                { id: 223, name: 'Purple Bell Pepper 紫甜椒 (Purple Capsicum)', unit: 'kg', price: 18.00, category: 'Peppers & Chilies', desc: 'Purple-colored sweet peppers' },
                { id: 224, name: 'Orange Bell Pepper 橙甜椒 (Orange Capsicum)', unit: 'kg', price: 16.00, category: 'Peppers & Chilies', desc: 'Sweet orange bell peppers' },
                { id: 225, name: 'Chocolate Bell Pepper 巧克力椒 (Brown Capsicum)', unit: 'kg', price: 20.00, category: 'Peppers & Chilies', desc: 'Brown chocolate-colored peppers' },

                // === ROOT VEGETABLES (25 varieties) ===
                { id: 226, name: 'Lobak Merah 胡萝卜/红萝卜 (Carrots)', unit: 'kg', price: 5.20, category: 'Root Vegetables', desc: 'Orange carrots, rich in beta-carotene' },
                { id: 227, name: 'Kentang 马铃薯/土豆 (Potato)', unit: 'kg', price: 4.00, category: 'Root Vegetables', desc: 'Standard white potatoes' },
                { id: 228, name: 'Ubi Kentang Merah 红薯/番薯 (Red Sweet Potato)', unit: 'kg', price: 4.20, category: 'Root Vegetables', desc: 'Orange-fleshed sweet potatoes' },
                { id: 229, name: 'Lobak Putih 白萝卜 (White Radish/Daikon)', unit: 'kg', price: 3.80, category: 'Root Vegetables', desc: 'Large white Japanese radish' },
                { id: 230, name: 'Beetroot 红菜头 (Red Beet)', unit: 'kg', price: 8.50, category: 'Root Vegetables', desc: 'Deep red beetroot, earthy flavor' },
                { id: 231, name: 'Turnip 芜菁/大头菜 (White Turnip)', unit: 'kg', price: 6.50, category: 'Root Vegetables', desc: 'White round turnips' },
                { id: 232, name: 'Ubi Kayu 木薯 (Cassava)', unit: 'kg', price: 3.20, category: 'Root Vegetables', desc: 'Starchy cassava root' },
                { id: 233, name: 'Keladi 芋头 (Taro)', unit: 'kg', price: 6.80, category: 'Root Vegetables', desc: 'Purple-stemmed taro corms' },
                { id: 234, name: 'Yam 山药 (Chinese Yam)', unit: 'kg', price: 12.00, category: 'Root Vegetables', desc: 'Long white Chinese yam' },
                { id: 235, name: 'Jerusalem Artichoke 菊芋 (Sunchoke)', unit: 'kg', price: 18.00, category: 'Root Vegetables', desc: 'Knobby sunflower tubers' },
                { id: 236, name: 'Parsnip 欧洲防风草 (White Carrot)', unit: 'kg', price: 15.00, category: 'Root Vegetables', desc: 'Cream-colored sweet root' },
                { id: 237, name: 'Rutabaga 瑞典萝卜 (Swede)', unit: 'kg', price: 8.00, category: 'Root Vegetables', desc: 'Purple-topped yellow turnip' },
                { id: 238, name: 'Horseradish 辣根 (Japanese Radish)', unit: 'kg', price: 25.00, category: 'Root Vegetables', desc: 'Pungent white root' },
                { id: 239, name: 'Jicama 凉薯 (Mexican Turnip)', unit: 'kg', price: 10.00, category: 'Root Vegetables', desc: 'Crispy white-fleshed tuber' },
                { id: 240, name: 'Water Chestnut 荸荠 (Chinese Water Chestnut)', unit: 'kg', price: 14.00, category: 'Root Vegetables', desc: 'Crunchy aquatic tubers' },
                { id: 241, name: 'Lotus Root 莲藕 (Renkon)', unit: 'kg', price: 16.00, category: 'Root Vegetables', desc: 'Perforated lotus rhizome' },
                { id: 242, name: 'Celeriac 根芹菜 (Celery Root)', unit: 'kg', price: 20.00, category: 'Root Vegetables', desc: 'Knobby celery-flavored root' },
                { id: 243, name: 'Black Radish 黑萝卜 (Spanish Radish)', unit: 'kg', price: 12.00, category: 'Root Vegetables', desc: 'Black-skinned pungent radish' },
                { id: 244, name: 'Purple Carrot 紫胡萝卜 (Purple Carrot)', unit: 'kg', price: 8.50, category: 'Root Vegetables', desc: 'Antioxidant-rich purple carrots' },
                { id: 245, name: 'Baby Potato 小土豆 (Fingerling)', unit: 'kg', price: 6.50, category: 'Root Vegetables', desc: 'Small waxy potatoes' },
                { id: 246, name: 'Red Potato 红土豆 (Red Skin Potato)', unit: 'kg', price: 5.00, category: 'Root Vegetables', desc: 'Red-skinned waxy potatoes' },
                { id: 247, name: 'Ubi Ungu 紫薯 (Purple Sweet Potato)', unit: 'kg', price: 6.00, category: 'Root Vegetables', desc: 'Purple-fleshed sweet potatoes' },
                { id: 248, name: 'Baby Carrot 迷你胡萝卜 (Mini Carrots)', unit: 'kg', price: 12.00, category: 'Root Vegetables', desc: 'Small tender baby carrots' },
                { id: 249, name: 'Radish Leaves 萝卜叶 (Turnip Greens)', unit: 'kg', price: 8.00, category: 'Root Vegetables', desc: 'Edible radish tops' },
                { id: 250, name: 'Sweet Potato Leaves 番薯叶 (Camote Tops)', unit: 'kg', price: 4.00, category: 'Root Vegetables', desc: 'Nutritious sweet potato leaves' },

                // === HERBS & AROMATICS (20 varieties) ===
                { id: 251, name: 'Basil 九层塔/罗勒 (Sweet Basil)', unit: 'kg', price: 25.00, category: 'Herbs & Aromatics', desc: 'Fragrant sweet basil leaves' },
                { id: 252, name: 'Coriander 芫荽/香菜 (Cilantro)', unit: 'kg', price: 12.00, category: 'Herbs & Aromatics', desc: 'Fresh coriander leaves' },
                { id: 253, name: 'Parsley 欧芹/荷兰芹 (Flat Parsley)', unit: 'kg', price: 18.00, category: 'Herbs & Aromatics', desc: 'Flat-leaf Italian parsley' },
                { id: 254, name: 'Mint 薄荷 (Spearmint)', unit: 'kg', price: 20.00, category: 'Herbs & Aromatics', desc: 'Fresh spearmint leaves' },
                { id: 255, name: 'Dill 莳萝 (Dill Weed)', unit: 'kg', price: 35.00, category: 'Herbs & Aromatics', desc: 'Feathery dill leaves' },
                { id: 256, name: 'Rosemary 迷迭香 (Fresh Rosemary)', unit: 'kg', price: 45.00, category: 'Herbs & Aromatics', desc: 'Needle-like aromatic herb' },
                { id: 257, name: 'Thyme 百里香 (Fresh Thyme)', unit: 'kg', price: 50.00, category: 'Herbs & Aromatics', desc: 'Tiny-leaved Mediterranean herb' },
                { id: 258, name: 'Oregano 牛至 (Fresh Oregano)', unit: 'kg', price: 40.00, category: 'Herbs & Aromatics', desc: 'Pungent pizza herb' },
                { id: 259, name: 'Sage 鼠尾草 (Garden Sage)', unit: 'kg', price: 55.00, category: 'Herbs & Aromatics', desc: 'Velvety gray-green leaves' },
                { id: 260, name: 'Celery 芹菜 (Chinese Celery)', unit: 'kg', price: 8.50, category: 'Herbs & Aromatics', desc: 'Thin-stemmed aromatic celery' },
                { id: 261, name: 'Fennel 茴香 (Florence Fennel)', unit: 'kg', price: 15.00, category: 'Herbs & Aromatics', desc: 'Anise-flavored bulb and fronds' },
                { id: 262, name: 'Tarragon 龙蒿 (French Tarragon)', unit: 'kg', price: 65.00, category: 'Herbs & Aromatics', desc: 'Licorice-scented herb' },
                { id: 263, name: 'Chervil 细叶芹 (French Parsley)', unit: 'kg', price: 45.00, category: 'Herbs & Aromatics', desc: 'Delicate lacy herb' },
                { id: 264, name: 'Marjoram 马郁兰 (Sweet Marjoram)', unit: 'kg', price: 48.00, category: 'Herbs & Aromatics', desc: 'Mild oregano relative' },
                { id: 265, name: 'Lemon Balm 柠檬香蜂草 (Melissa)', unit: 'kg', price: 30.00, category: 'Herbs & Aromatics', desc: 'Lemony mint-family herb' },
                { id: 266, name: 'Bay Leaves 月桂叶 (Laurel)', unit: 'kg', price: 60.00, category: 'Herbs & Aromatics', desc: 'Aromatic cooking leaves' },
                { id: 267, name: 'Lemongrass 柠檬草 (Citronella)', unit: 'kg', price: 15.00, category: 'Herbs & Aromatics', desc: 'Citrusy grass stalks' },
                { id: 268, name: 'Ginger 生姜 (Fresh Ginger)', unit: 'kg', price: 20.00, category: 'Herbs & Aromatics', desc: 'Spicy fresh ginger rhizome' },
                { id: 269, name: 'Turmeric 姜黄 (Fresh Turmeric)', unit: 'kg', price: 25.00, category: 'Herbs & Aromatics', desc: 'Orange anti-inflammatory root' },
                { id: 270, name: 'Galangal 南姜 (Thai Ginger)', unit: 'kg', price: 30.00, category: 'Herbs & Aromatics', desc: 'Pink-tinged aromatic rhizome' },

                // === MUSHROOMS & FUNGI (30 varieties) ===
                { id: 271, name: 'Cendawan Tiram 平菇 (Oyster Mushroom)', unit: 'kg', price: 12.00, category: 'Mushrooms & Fungi', desc: 'Fan-shaped meaty mushrooms' },
                { id: 272, name: 'Cendawan Butang 纽扣菇 (Button Mushroom)', unit: 'kg', price: 15.00, category: 'Mushrooms & Fungi', desc: 'Common white button mushrooms' },
                { id: 273, name: 'Shiitake 香菇 (Shiitake Mushroom)', unit: 'kg', price: 25.00, category: 'Mushrooms & Fungi', desc: 'Umami-rich Japanese mushrooms' },
                { id: 274, name: 'Enoki 金针菇 (Golden Needle)', unit: 'kg', price: 18.00, category: 'Mushrooms & Fungi', desc: 'Thin white needle mushrooms' },
                { id: 275, name: 'King Oyster 杏鲍菇 (King Trumpet)', unit: 'kg', price: 20.00, category: 'Mushrooms & Fungi', desc: 'Large thick-stemmed mushrooms' },
                { id: 276, name: 'Shimeji 本菇 (Beech Mushroom)', unit: 'kg', price: 22.00, category: 'Mushrooms & Fungi', desc: 'Small clustered brown mushrooms' },
                { id: 277, name: 'Portobello 大啡菇 (Large Brown)', unit: 'piece', price: 8.50, category: 'Mushrooms & Fungi', desc: 'Large flat cap mushrooms' },
                { id: 278, name: 'Cremini 小啡菇 (Baby Bella)', unit: 'kg', price: 18.00, category: 'Mushrooms & Fungi', desc: 'Brown button mushrooms' },
                { id: 279, name: 'Maitake 舞茸 (Hen of Woods)', unit: 'kg', price: 35.00, category: 'Mushrooms & Fungi', desc: 'Frilly dancing mushrooms' },
                { id: 280, name: 'Wood Ear 木耳 (Black Fungus)', unit: 'kg', price: 28.00, category: 'Mushrooms & Fungi', desc: 'Gelatinous black tree fungus' },
                { id: 281, name: 'Lion\'s Mane 猴头菇 (Bearded Tooth)', unit: 'kg', price: 45.00, category: 'Mushrooms & Fungi', desc: 'White shaggy medicinal mushroom' },
                { id: 282, name: 'Chanterelle 鸡油菌 (Golden Chanterelle)', unit: 'kg', price: 65.00, category: 'Mushrooms & Fungi', desc: 'Golden trumpet-shaped mushrooms' },
                { id: 283, name: 'Morel 羊肚菌 (True Morel)', unit: 'kg', price: 150.00, category: 'Mushrooms & Fungi', desc: 'Honeycomb-textured delicacy' },
                { id: 284, name: 'Porcini 牛肝菌 (King Bolete)', unit: 'kg', price: 120.00, category: 'Mushrooms & Fungi', desc: 'Prized Italian mushrooms' },
                { id: 285, name: 'Truffle 松露 (Black Truffle)', unit: 'kg', price: 2500.00, category: 'Mushrooms & Fungi', desc: 'Rare underground luxury fungus' },
                { id: 286, name: 'White Oyster 白平菇 (White Oyster)', unit: 'kg', price: 14.00, category: 'Mushrooms & Fungi', desc: 'Pale oyster mushroom variety' },
                { id: 287, name: 'Pink Oyster 粉红平菇 (Pink Oyster)', unit: 'kg', price: 16.00, category: 'Mushrooms & Fungi', desc: 'Pink-tinged exotic oysters' },
                { id: 288, name: 'Yellow Oyster 黄平菇 (Golden Oyster)', unit: 'kg', price: 18.00, category: 'Mushrooms & Fungi', desc: 'Bright yellow oyster mushrooms' },
                { id: 289, name: 'Reishi 灵芝 (Ganoderma)', unit: 'kg', price: 80.00, category: 'Mushrooms & Fungi', desc: 'Shiny medicinal mushrooms' },
                { id: 290, name: 'Turkey Tail 云芝 (Trametes)', unit: 'kg', price: 50.00, category: 'Mushrooms & Fungi', desc: 'Colorful bracket fungus' },
                { id: 291, name: 'Cordyceps 冬虫夏草 (Caterpillar Fungus)', unit: 'kg', price: 200.00, category: 'Mushrooms & Fungi', desc: 'Rare medicinal parasitic fungus' },
                { id: 292, name: 'Chaga 白桦茸 (Birch Conk)', unit: 'kg', price: 100.00, category: 'Mushrooms & Fungi', desc: 'Black crusty medicinal fungus' },
                { id: 293, name: 'White Button 白纽扣菇 (Agaricus)', unit: 'kg', price: 12.00, category: 'Mushrooms & Fungi', desc: 'Classic white mushrooms' },
                { id: 294, name: 'Brown Button 褐纽扣菇 (Brown Agaricus)', unit: 'kg', price: 14.00, category: 'Mushrooms & Fungi', desc: 'Brown variety button mushrooms' },
                { id: 295, name: 'Straw Mushroom 草菇 (Paddy Straw)', unit: 'kg', price: 20.00, category: 'Mushrooms & Fungi', desc: 'Small Asian straw mushrooms' },
                { id: 296, name: 'Phoenix Oyster 凤尾菇 (Phoenix Tail)', unit: 'kg', price: 16.00, category: 'Mushrooms & Fungi', desc: 'Oyster mushroom with long stems' },
                { id: 297, name: 'Wine Cap 酒帽菇 (Burgundy Cap)', unit: 'kg', price: 25.00, category: 'Mushrooms & Fungi', desc: 'Dark red-capped mushrooms' },
                { id: 298, name: 'Nameko 滑子菇 (Slippery Jack)', unit: 'kg', price: 30.00, category: 'Mushrooms & Fungi', desc: 'Slimy amber-colored mushrooms' },
                { id: 299, name: 'Matsutake 松茸 (Pine Mushroom)', unit: 'kg', price: 300.00, category: 'Mushrooms & Fungi', desc: 'Aromatic Japanese pine mushrooms' },
                { id: 300, name: 'Hedgehog 猴头菌 (Sweet Tooth)', unit: 'kg', price: 40.00, category: 'Mushrooms & Fungi', desc: 'Spiky white tooth fungus' }
            ];
        }

        // Get unique categories from database
        function getCategories() {
            var offlineDatabase = getOfflineVegetableDatabase();
            var categories = ['All'];
            var categorySet = new Set();
            
            for (var i = 0; i < offlineDatabase.length; i++) {
                if (offlineDatabase[i].category) {
                    categorySet.add(offlineDatabase[i].category);
                }
            }
            
            var sortedCategories = Array.from(categorySet).sort();
            return categories.concat(sortedCategories);
        }

        // Initialize App with offline database
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            loadDataFromStorage();
            loadOfflineProducts();
            setupEventListeners();
            setupScrollHandling();
            addPullToRefresh();
            updateStatusBar();
            updateCurrentDate();
            updateStats();
            renderViews();
            updateSettingsPreview();
            
            // Mobile App Optimizations
            preventZoom();
            setupTouchFeedback();
            setupPWA();
            
            // Hide address bar on mobile
            setTimeout(function() {
                window.scrollTo(0, 1);
            }, 100);
        }

        // Load offline vegetable database
        function loadOfflineProducts() {
            if (products.length === 0) {
                products = getOfflineVegetableDatabase();
                saveDataToStorage();
            }
        }

        // PWA Setup
        function setupPWA() {
            // Register service worker for offline functionality
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('data:text/javascript;base64,Ly8gU2ltcGxlIFNlcnZpY2UgV29ya2VyIGZvciBWZWdlT3JkZXIgT2ZmbGluZQpzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2luc3RhbGwnLCBmdW5jdGlvbihldmVudCkgewogIGNvbnNvbGUubG9nKCdWZWdlT3JkZXIgT2ZmbGluZSBTZXJ2aWNlIFdvcmtlciBpbnN0YWxsZWQnKTsKfSk7CgpzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2FjdGl2YXRlJywgZnVuY3Rpb24oZXZlbnQpIHsKICBjb25zb2xlLmxvZygnVmVnZU9yZGVyIE9mZmxpbmUgU2VydmljZSBXb3JrZXIgYWN0aXZhdGVkJyk7Cn0pOwoKc2VsZi5hZGRFdmVudExpc3RlbmVyKCdmZXRjaCcsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgLy8gRm9yY2UgY2FjaGUgZmlyc3Qgc3RyYXRlZ3kgZm9yIGNvbXBsZXRlIG9mZmxpbmUgb3BlcmF0aW9uCiAgZXZlbnQucmVzcG9uZFdpdGgoCiAgICBjYWNoZXMubWF0Y2goZXZlbnQucmVxdWVzdCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgIH0KICAgICAgLy8gRmFsbGJhY2sgdG8gbmV0d29yayBpZiBub3QgaW4gY2FjaGUKICAgICAgcmV0dXJuIGZldGNoKGV2ZW50LnJlcXVlc3QpOwogICAgfSkKICApOwp9KTs=')
                .then(function(registration) {
                    console.log('Offline Service Worker registered successfully');
                })
                .catch(function(error) {
                    console.log('Service Worker registration failed');
                });
            }

            // Handle PWA install prompt
            let deferredPrompt;
            window.addEventListener('beforeinstallprompt', function(e) {
                e.preventDefault();
                deferredPrompt = e;
                
                // Show custom install button after 5 seconds
                setTimeout(function() {
                    if (deferredPrompt && !window.matchMedia('(display-mode: standalone)').matches) {
                        showInstallPrompt();
                    }
                }, 5000);
            });

            // Check if already installed
            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log('VegeOrder Offline is running as installed PWA');
                // Hide address bar completely
                document.body.style.paddingTop = '0';
            }
        }

        function showInstallPrompt() {
            var installBanner = document.createElement('div');
            installBanner.id = 'install-banner';
            installBanner.innerHTML = 
                '<div style="background: linear-gradient(135deg, #067c6c, #0891b2); color: white; padding: 12px 20px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 4px 12px rgba(8,145,178,0.3);">' +
                '<div style="display: flex; align-items: center; gap: 12px;">' +
                '<div style="font-size: 20px;">📱</div>' +
                '<div>' +
                '<div style="font-weight: 700; font-size: 14px;">Install VegeOrder Offline</div>' +
                '<div style="font-size: 12px; opacity: 0.9;">Complete offline vegetable management</div>' +
                '</div>' +
                '</div>' +
                '<div style="display: flex; gap: 8px;">' +
                '<button onclick="installPWA()" style="background: rgba(255,255,255,0.2); border: none; color: white; padding: 8px 16px; border-radius: 8px; font-size: 12px; font-weight: 600; cursor: pointer;">Install</button>' +
                '<button onclick="dismissInstall()" style="background: none; border: none; color: white; padding: 8px; font-size: 18px; cursor: pointer;">✕</button>' +
                '</div>' +
                '</div>';
            
            installBanner.style.cssText = 'position: fixed; top: 44px; left: 0; right: 0; z-index: 150; animation: slideDown 0.3s ease;';
            document.body.appendChild(installBanner);
        }

        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then(function(choiceResult) {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the PWA install prompt');
                    }
                    deferredPrompt = null;
                    dismissInstall();
                });
            }
        }

        function dismissInstall() {
            var banner = document.getElementById('install-banner');
            if (banner) {
                banner.remove();
            }
        }

        // Storage Functions - Enhanced for offline mode
        function saveDataToStorage() {
            try {
                localStorage.setItem(STORAGE_KEYS.COMPANY_SETTINGS, JSON.stringify(companySettings));
                localStorage.setItem(STORAGE_KEYS.CUSTOMERS, JSON.stringify(customers));
                localStorage.setItem(STORAGE_KEYS.PRODUCTS, JSON.stringify(products));
                localStorage.setItem(STORAGE_KEYS.ORDERS, JSON.stringify(orders));
                
                // Add timestamp for data sync tracking
                localStorage.setItem('vegeorder_offline_last_sync', new Date().toISOString());
            } catch (e) {
                console.warn('Unable to save to localStorage:', e);
                showSuccessMessage('⚠️ Storage full! Please clear some data.');
            }
        }

        function loadDataFromStorage() {
            try {
                // Load company settings
                var savedSettings = localStorage.getItem(STORAGE_KEYS.COMPANY_SETTINGS);
                if (savedSettings) {
                    companySettings = Object.assign(companySettings, JSON.parse(savedSettings));
                }

                // Load customers
                var savedCustomers = localStorage.getItem(STORAGE_KEYS.CUSTOMERS);
                if (savedCustomers) {
                    customers = JSON.parse(savedCustomers);
                }

                // Load products (offline database will be loaded separately)
                var savedProducts = localStorage.getItem(STORAGE_KEYS.PRODUCTS);
                if (savedProducts) {
                    products = JSON.parse(savedProducts);
                }

                // Load orders
                var savedOrders = localStorage.getItem(STORAGE_KEYS.ORDERS);
                if (savedOrders) {
                    orders = JSON.parse(savedOrders);
                }
            } catch (e) {
                console.warn('Unable to load from localStorage:', e);
            }

            // Load initial sample data if no data exists
            if (customers.length === 0) {
                loadInitialData();
            }
        }

        function loadInitialData() {
            // Load sample customers for demo
            customers = [
                { id: 1, name: 'Restoran Ahmad Nasi Kandar', phone: '012-3456789', address: 'Jalan Sultan, KL', email: 'ahmad@nasikandar.com' },
                { id: 2, name: 'Siti Catering & Events', phone: '013-7654321', address: 'Taman Desa, PJ', email: 'siti@catering.my' },
                { id: 3, name: 'Lee Kitchen Chinese Restaurant', phone: '019-9876543', address: 'Chinatown, KL', email: 'lee@kitchen.com' },
                { id: 4, name: 'Warung Mak Cik Kiah', phone: '017-1234567', address: 'Kampung Baru, KL', email: 'kiah@warung.my' },
                { id: 5, name: 'Restoran Sedap Rasa', phone: '016-2345678', address: 'Shah Alam', email: 'sedap@restaurant.my' }
            ];

            orders = [];
            saveDataToStorage();
        }

        // Settings Functions
        function openSettings() {
            populateSettingsForms();
            showView('settings');
        }

        function populateSettingsForms() {
            // Company form
            document.getElementById('company-name').value = companySettings.name || '';
            document.getElementById('company-tagline').value = companySettings.tagline || '';
            document.getElementById('company-phone').value = companySettings.phone || '';
            document.getElementById('company-email').value = companySettings.email || '';
            document.getElementById('company-website').value = companySettings.website || '';
            document.getElementById('company-address').value = companySettings.address || '';

            // Owner form
            document.getElementById('owner-name').value = companySettings.ownerName || '';
            document.getElementById('owner-title').value = companySettings.ownerTitle || '';
            document.getElementById('owner-phone').value = companySettings.ownerPhone || '';
            document.getElementById('owner-email').value = companySettings.ownerEmail || '';
        }

        function updateSettingsPreview() {
            // Company preview
            var companyPreview = '';
            if (companySettings.name) {
                companyPreview = companySettings.name;
                if (companySettings.tagline) companyPreview += '\n' + companySettings.tagline;
                if (companySettings.phone) companyPreview += '\nPhone: ' + companySettings.phone;
                if (companySettings.email) companyPreview += '\nEmail: ' + companySettings.email;
                if (companySettings.address) companyPreview += '\n' + companySettings.address;
            } else {
                companyPreview = 'No company information set yet.';
            }
            document.getElementById('preview-company').textContent = companyPreview;

            // Owner preview
            var ownerPreview = '';
            if (companySettings.ownerName) {
                ownerPreview = companySettings.ownerName;
                if (companySettings.ownerTitle) ownerPreview += '\n' + companySettings.ownerTitle;
                if (companySettings.ownerPhone) ownerPreview += '\nPhone: ' + companySettings.ownerPhone;
                if (companySettings.ownerEmail) ownerPreview += '\nEmail: ' + companySettings.ownerEmail;
            } else {
                ownerPreview = 'No owner information set yet.';
            }
            document.getElementById('preview-owner').textContent = ownerPreview;
        }

        function showSuccessMessage(message) {
            var successMsg = document.getElementById('success-message');
            if (message) {
                successMsg.textContent = message;
            }
            successMsg.classList.add('show');
            setTimeout(function() {
                successMsg.classList.remove('show');
            }, 3000);
        }

        function resetAllSettings() {
            if (confirm('Are you sure you want to reset all company settings? This action cannot be undone.')) {
                companySettings = {
                    name: '',
                    tagline: '',
                    phone: '',
                    email: '',
                    website: '',
                    address: '',
                    ownerName: '',
                    ownerTitle: '',
                    ownerPhone: '',
                    ownerEmail: ''
                };
                saveDataToStorage();
                populateSettingsForms();
                updateSettingsPreview();
                showSuccessMessage('🔄 All settings have been reset to defaults!');
            }
        }

        function setupEventListeners() {
            // Customer search
            document.getElementById('customer-search').addEventListener('input', function(e) {
                renderCustomers(e.target.value);
            });

            // Product search
            document.getElementById('product-search').addEventListener('input', function(e) {
                renderProducts(e.target.value, selectedCategory);
            });

            // Order date
            document.getElementById('order-date').value = selectedDate;
            document.getElementById('order-date').addEventListener('change', function(e) {
                selectedDate = e.target.value;
                renderOrders();
                updateStats();
            });

            // Order filters
            var filterBtns = document.querySelectorAll('.filter-btn');
            for (var i = 0; i < filterBtns.length; i++) {
                filterBtns[i].addEventListener('click', function() {
                    var allBtns = document.querySelectorAll('.filter-btn');
                    for (var j = 0; j < allBtns.length; j++) {
                        allBtns[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    orderFilter = this.dataset.filter;
                    renderOrders();
                });
            }

            // Forms
            document.getElementById('customer-form').addEventListener('submit', handleCustomerSubmit);
            document.getElementById('product-form').addEventListener('submit', handleProductSubmit);
            document.getElementById('order-form').addEventListener('submit', handleOrderSubmit);

            // Settings forms
            document.getElementById('company-form').addEventListener('submit', handleCompanySubmit);
            document.getElementById('owner-form').addEventListener('submit', handleOwnerSubmit);

            // Order customer selection
            document.getElementById('order-customer').addEventListener('change', function() {
                if (this.value) {
                    initializeOrderItems();
                } else {
                    document.getElementById('order-items').classList.add('hidden');
                }
            });
        }

        // Settings Form Handlers
        function handleCompanySubmit(e) {
            e.preventDefault();
            
            companySettings.name = document.getElementById('company-name').value.trim();
            companySettings.tagline = document.getElementById('company-tagline').value.trim();
            companySettings.phone = document.getElementById('company-phone').value.trim();
            companySettings.email = document.getElementById('company-email').value.trim();
            companySettings.website = document.getElementById('company-website').value.trim();
            companySettings.address = document.getElementById('company-address').value.trim();

            saveDataToStorage();
            updateSettingsPreview();
            showSuccessMessage('🏢 Company information saved successfully!');
        }

        function handleOwnerSubmit(e) {
            e.preventDefault();
            
            companySettings.ownerName = document.getElementById('owner-name').value.trim();
            companySettings.ownerTitle = document.getElementById('owner-title').value.trim();
            companySettings.ownerPhone = document.getElementById('owner-phone').value.trim();
            companySettings.ownerEmail = document.getElementById('owner-email').value.trim();

            saveDataToStorage();
            updateSettingsPreview();
            showSuccessMessage('👤 Owner details saved successfully!');
        }

        function setupCategoryFilters() {
            var categories = getCategories();
            
            // Main product view category filters
            var categoryFiltersContainer = document.getElementById('category-filters');
            var categoryHTML = '';
            for (var i = 0; i < categories.length; i++) {
                var isActive = (i === 0) ? 'active' : '';
                categoryHTML += '<button class="category-btn ' + isActive + '" onclick="filterByCategory(\'' + categories[i] + '\')">' + categories[i] + '</button>';
            }
            categoryFiltersContainer.innerHTML = categoryHTML;
            
            // Order form category filters
            var orderCategoryFiltersContainer = document.getElementById('order-category-filters');
            if (orderCategoryFiltersContainer) {
                orderCategoryFiltersContainer.innerHTML = categoryHTML.replace(/filterByCategory/g, 'filterOrderByCategory');
            }
            
            // Product form category options
            var productCategorySelect = document.getElementById('product-category');
            var categoryOptionsHTML = '<option value="">Select Category</option>';
            for (var i = 1; i < categories.length; i++) { // Skip "All"
                categoryOptionsHTML += '<option value="' + categories[i] + '">' + categories[i] + '</option>';
            }
            productCategorySelect.innerHTML = categoryOptionsHTML;
        }

        function filterByCategory(category) {
            selectedCategory = category.toLowerCase();
            
            // Update active button
            var categoryBtns = document.querySelectorAll('#category-filters .category-btn');
            for (var i = 0; i < categoryBtns.length; i++) {
                categoryBtns[i].classList.remove('active');
                if (categoryBtns[i].textContent === category) {
                    categoryBtns[i].classList.add('active');
                }
            }
            
            var searchTerm = document.getElementById('product-search').value;
            renderProducts(searchTerm, selectedCategory);
        }

        function filterOrderByCategory(category) {
            selectedOrderCategory = category.toLowerCase();
            
            // Update active button
            var categoryBtns = document.querySelectorAll('#order-category-filters .category-btn');
            for (var i = 0; i < categoryBtns.length; i++) {
                categoryBtns[i].classList.remove('active');
                if (categoryBtns[i].textContent === category) {
                    categoryBtns[i].classList.add('active');
                }
            }
            
            var searchTerm = document.getElementById('order-search').value;
            filterOrderItems(searchTerm);
        }

        function updateStatusBar() {
            var now = new Date();
            var timeStr = now.getHours() + ':' + (now.getMinutes() < 10 ? '0' : '') + now.getMinutes();
            document.getElementById('status-time').textContent = timeStr;
        }

        function updateCurrentDate() {
            var now = new Date();
            var dateStr = now.toLocaleDateString('en-MY', { 
                weekday: 'short', 
                day: 'numeric', 
                month: 'short' 
            });
            document.getElementById('current-date').textContent = dateStr;
        }

        function updateStats() {
            var todayOrders = [];
            for (var i = 0; i < orders.length; i++) {
                if (orders[i].date === selectedDate) {
                    todayOrders.push(orders[i]);
                }
            }
            
            var totalSales = 0;
            var pendingCount = 0;
            var completedCount = 0;
            
            for (var i = 0; i < todayOrders.length; i++) {
                totalSales += todayOrders[i].total;
                if (todayOrders[i].status === 'pending') {
                    pendingCount++;
                } else if (todayOrders[i].status === 'completed') {
                    completedCount++;
                }
            }

            document.getElementById('customers-count').textContent = customers.length;
            document.getElementById('products-count').textContent = products.length;
            document.getElementById('orders-count').textContent = todayOrders.length;
            document.getElementById('total-sales').textContent = 'RM ' + totalSales.toFixed(2);
            document.getElementById('daily-sales').textContent = 'RM ' + totalSales.toFixed(2);
            document.getElementById('pending-count').textContent = pendingCount;
            document.getElementById('completed-count').textContent = completedCount;
        }

        function showView(viewName) {
            // Hide all views
            var views = document.querySelectorAll('.view');
            for (var i = 0; i < views.length; i++) {
                views[i].classList.add('hidden');
            }
            
            // Show selected view
            document.getElementById(viewName + '-view').classList.remove('hidden');
            
            // Update navigation
            var navItems = document.querySelectorAll('.nav-item');
            for (var i = 0; i < navItems.length; i++) {
                navItems[i].classList.remove('active');
            }
            
            // Find and activate the correct nav item
            for (var i = 0; i < navItems.length; i++) {
                var onclick = navItems[i].getAttribute('onclick');
                if (onclick && onclick.indexOf(viewName) !== -1) {
                    navItems[i].classList.add('active');
                    break;
                }
            }
            
            currentView = viewName;
            
            // Scroll to top smoothly when changing views
            scrollToTop();
            
            // Setup category filters when switching to products view
            if (viewName === 'products') {
                setupCategoryFilters();
            }
            
            renderViews();
        }

        function scrollToTop() {
            var mainContent = document.getElementById('main-content');
            if (mainContent) {
                mainContent.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }
        }

        function renderViews() {
            if (currentView === 'dashboard') {
                renderRecentOrders();
            } else if (currentView === 'customers') {
                renderCustomers();
            } else if (currentView === 'products') {
                setupCategoryFilters();
                renderProducts();
            } else if (currentView === 'orders') {
                renderOrders();
            }
        }

        function renderRecentOrders() {
            var todayOrders = [];
            for (var i = 0; i < orders.length; i++) {
                if (orders[i].date === selectedDate) {
                    todayOrders.push(orders[i]);
                }
            }
            
            var container = document.getElementById('recent-orders');
            
            if (todayOrders.length === 0) {
                container.innerHTML = '<div class="empty-state">' +
                    '<div class="empty-icon">⏰</div>' +
                    '<p style="font-weight: 600;">No orders today</p>' +
                    '<p style="font-size: 14px; margin-top: 8px; color: rgba(255,255,255,0.7);">🔒 Running in offline mode</p>' +
                    '</div>';
                return;
            }

            var ordersHTML = '';
            var displayCount = Math.min(todayOrders.length, 3);
            for (var i = 0; i < displayCount; i++) {
                var order = todayOrders[i];
                var customer = null;
                for (var j = 0; j < customers.length; j++) {
                    if (customers[j].id === order.customerId) {
                        customer = customers[j];
                        break;
                    }
                }
                var customerName = customer ? customer.name : 'Unknown';
                ordersHTML += '<div class="order-card" style="margin-bottom: 12px; position: relative;">' +
                    '<div style="position: absolute; top: 12px; right: 12px; display: flex; gap: 6px; z-index: 10;">' +
                    '<button class="icon-btn edit-btn" onclick="editOrder(' + order.id + ')" style="width: 36px; height: 36px; font-size: 14px;" title="Edit Order">✏️</button>' +
                    '</div>' +
                    '<div onclick="showOrderDetails(' + order.id + ')" style="cursor: pointer; padding-right: 80px;">' +
                    '<div style="display: flex; justify-content: space-between; align-items: flex-start;">' +
                    '<div style="flex: 1;">' +
                    '<p style="font-weight: 700; font-size: 16px; margin-bottom: 4px;">' + customerName + '</p>' +
                    '<p style="font-size: 14px; color: rgba(255,255,255,0.8);">' + order.items.length + ' items • ' + new Date(order.createdAt).toLocaleTimeString() + '</p>' +
                    '</div>' +
                    '<div style="text-align: right;">' +
                    '<p style="font-weight: 700; font-size: 16px; color: #67e8f9; margin-bottom: 6px;">RM ' + order.total.toFixed(2) + '</p>' +
                    '<span class="order-status status-' + order.status + '">' + order.status + '</span>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>';
            }
            
            container.innerHTML = ordersHTML;
        }

        function renderCustomers(searchTerm) {
            if (!searchTerm) searchTerm = '';
            
            var filteredCustomers = [];
            for (var i = 0; i < customers.length; i++) {
                var customer = customers[i];
                if (customer.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1 ||
                    customer.phone.indexOf(searchTerm) !== -1) {
                    filteredCustomers.push(customer);
                }
            }

            var container = document.getElementById('customers-list');
            var customersHTML = '';
            
            for (var i = 0; i < filteredCustomers.length; i++) {
                var customer = filteredCustomers[i];
                var customerOrders = [];
                var customerTotal = 0;
                
                for (var j = 0; j < orders.length; j++) {
                    if (orders[j].customerId === customer.id) {
                        customerOrders.push(orders[j]);
                        customerTotal += orders[j].total;
                    }
                }
                
                customersHTML += '<div class="customer-card">' +
                    '<div class="customer-header">' +
                    '<div class="customer-info" style="flex: 1;">' +
                    '<h3>' + customer.name + '</h3>' +
                    '<div class="contact-info">' +
                    '<span class="icon">📞</span>' +
                    '<span>' + customer.phone + '</span>' +
                    '</div>';
                
                if (customer.address) {
                    customersHTML += '<div class="contact-info">' +
                        '<span class="icon">📍</span>' +
                        '<span>' + customer.address + '</span>' +
                        '</div>';
                }
                
                if (customer.email) {
                    customersHTML += '<div class="contact-info">' +
                        '<span class="icon">📧</span>' +
                        '<span>' + customer.email + '</span>' +
                        '</div>';
                }
                
                customersHTML += '</div>' +
                    '<div class="customer-actions">' +
                    '<button class="icon-btn" onclick="editCustomer(' + customer.id + ')">✏️</button>' +
                    '<button class="icon-btn" onclick="deleteCustomer(' + customer.id + ')">🗑️</button>' +
                    '</div>' +
                    '</div>' +
                    '<div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 12px; display: flex; justify-content: space-between; font-size: 14px;">' +
                    '<span style="color: rgba(255,255,255,0.8);">' + customerOrders.length + ' orders</span>' +
                    '<span style="font-weight: 700; color: #67e8f9;">RM ' + customerTotal.toFixed(2) + '</span>' +
                    '</div>' +
                    '</div>';
            }
            
            container.innerHTML = customersHTML;
        }

        function renderProducts(searchTerm, category) {
            if (!searchTerm) searchTerm = '';
            if (!category) category = 'all';
            
            var filteredProducts = [];
            for (var i = 0; i < products.length; i++) {
                var product = products[i];
                var matchesSearch = product.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1;
                var matchesCategory = category === 'all' || (product.category && product.category.toLowerCase() === category);
                
                if (matchesSearch && matchesCategory) {
                    filteredProducts.push(product);
                }
            }

            var container = document.getElementById('products-list');
            var productsHTML = '';
            
            if (filteredProducts.length === 0) {
                productsHTML = '<div class="empty-state">' +
                    '<div class="empty-icon" style="font-size: 48px;">🔍</div>' +
                    '<p style="font-weight: 600;">No vegetables found</p>' +
                    '<p style="font-size: 14px; margin-top: 8px;">Try searching with different keywords or select a different category</p>' +
                    '</div>';
            } else {
                for (var i = 0; i < filteredProducts.length; i++) {
                    var product = filteredProducts[i];
                    productsHTML += '<div class="product-card">' +
                        '<div style="display: flex; justify-content: space-between; align-items: center;">' +
                        '<div class="product-info" style="flex: 1;">' +
                        '<h3>' + product.name + '</h3>' +
                        '<p>per ' + product.unit + '</p>' +
                        (product.category ? '<span class="category-badge">' + product.category + '</span>' : '') +
                        (product.desc ? '<p style="font-size: 12px; color: rgba(255,255,255,0.7); margin-top: 6px;">' + product.desc + '</p>' : '') +
                        '</div>' +
                        '<div class="product-price">' +
                        '<div class="price">RM ' + product.price.toFixed(2) + '</div>' +
                        '<div class="product-actions">' +
                        '<button class="icon-btn" onclick="editProduct(' + product.id + ')">✏️</button>' +
                        '<button class="icon-btn" onclick="deleteProduct(' + product.id + ')">🗑️</button>' +
                        '</div>' +
                        '</div>' +
                        '</div>' +
                        '</div>';
                }
            }
            
            container.innerHTML = productsHTML;
        }

        function renderOrders() {
            var todayOrders = [];
            for (var i = 0; i < orders.length; i++) {
                if (orders[i].date === selectedDate) {
                    todayOrders.push(orders[i]);
                }
            }
            
            var filteredOrders = [];
            for (var i = 0; i < todayOrders.length; i++) {
                var order = todayOrders[i];
                if (orderFilter === 'pending' && order.status !== 'pending') continue;
                if (orderFilter === 'completed' && order.status !== 'completed') continue;
                filteredOrders.push(order);
            }

            var container = document.getElementById('orders-list');
            
            if (filteredOrders.length === 0) {
                container.innerHTML = '<div class="empty-state">' +
                    '<div class="empty-icon">🛒</div>' +
                    '<p style="font-weight: 600;">No orders found</p>' +
                    '<p style="font-size: 14px; margin-top: 8px; color: rgba(255,255,255,0.7);">🔒 Offline Mode Active</p>' +
                    '</div>';
                return;
            }

            var ordersHTML = '';
            for (var i = 0; i < filteredOrders.length; i++) {
                var order = filteredOrders[i];
                var customer = null;
                for (var j = 0; j < customers.length; j++) {
                    if (customers[j].id === order.customerId) {
                        customer = customers[j];
                        break;
                    }
                }
                var customerName = customer ? customer.name : 'Unknown';
                
                var itemsHTML = '';
                var displayItems = Math.min(order.items.length, 2);
                for (var k = 0; k < displayItems; k++) {
                    var item = order.items[k];
                    itemsHTML += '<div style="margin-bottom: 2px;">' + item.vegeName + ': ' + item.quantity + ' ' + item.unit + '</div>';
                }
                if (order.items.length > 2) {
                    itemsHTML += '<div style="font-size: 12px; color: rgba(255,255,255,0.7);">+' + (order.items.length - 2) + ' more items</div>';
                }
                
                ordersHTML += '<div class="order-card" style="position: relative;">' +
                    '<div style="position: absolute; top: 16px; right: 16px; display: flex; gap: 8px; z-index: 10;">' +
                    '<button class="icon-btn edit-btn" onclick="editOrder(' + order.id + ')" title="Edit Order">✏️</button>' +
                    '<button class="icon-btn delete-btn" onclick="deleteOrder(' + order.id + ')" title="Delete Order">🗑️</button>' +
                    '</div>' +
                    '<div onclick="showOrderDetails(' + order.id + ')" style="cursor: pointer; padding-right: 100px;">' +
                    '<div class="order-header">' +
                    '<div style="flex: 1;">' +
                    '<h3 style="font-weight: 700; margin-bottom: 4px;">' + customerName + '</h3>' +
                    '<p style="font-size: 14px; color: rgba(255,255,255,0.8);">#' + order.id + '</p>' +
                    '<p style="font-size: 12px; color: rgba(255,255,255,0.6);">' + new Date(order.createdAt).toLocaleString() + '</p>' +
                    '</div>' +
                    '<span class="order-status status-' + order.status + '">' + order.status + '</span>' +
                    '</div>' +
                    '<div class="order-items">' + itemsHTML + '</div>' +
                    '<div class="order-total">' +
                    '<span style="font-weight: 600;">Total:</span>' +
                    '<span class="total-amount">RM ' + order.total.toFixed(2) + '</span>' +
                    '</div>' +
                    '</div>' +
                    '</div>';
            }

            container.innerHTML = ordersHTML;
        }

        // Customer Functions
        function openCustomerForm() {
            editingCustomer = null;
            document.getElementById('customer-modal-title').textContent = 'Add Customer';
            document.getElementById('customer-form').reset();
            document.getElementById('customer-modal').classList.add('show');
        }

        function closeCustomerForm() {
            document.getElementById('customer-modal').classList.remove('show');
            editingCustomer = null;
        }

        function editCustomer(id) {
            var customer = null;
            for (var i = 0; i < customers.length; i++) {
                if (customers[i].id === id) {
                    customer = customers[i];
                    break;
                }
            }
            if (!customer) return;

            editingCustomer = customer;
            document.getElementById('customer-modal-title').textContent = 'Edit Customer';
            document.getElementById('customer-name').value = customer.name;
            document.getElementById('customer-phone').value = customer.phone || '';
            document.getElementById('customer-address').value = customer.address || '';
            document.getElementById('customer-email').value = customer.email || '';
            document.getElementById('customer-modal').classList.add('show');
        }

        function deleteCustomer(id) {
            if (confirm('Delete this customer? This will also delete all their orders.')) {
                var newCustomers = [];
                for (var i = 0; i < customers.length; i++) {
                    if (customers[i].id !== id) {
                        newCustomers.push(customers[i]);
                    }
                }
                customers = newCustomers;
                
                var newOrders = [];
                for (var i = 0; i < orders.length; i++) {
                    if (orders[i].customerId !== id) {
                        newOrders.push(orders[i]);
                    }
                }
                orders = newOrders;
                
                saveDataToStorage();
                updateStats();
                renderViews();
                showSuccessMessage('🗑️ Customer deleted successfully');
            }
        }

        function handleCustomerSubmit(e) {
            e.preventDefault();
            
            var name = document.getElementById('customer-name').value.trim();
            if (!name) return;

            var customerData = {
                name: name,
                phone: document.getElementById('customer-phone').value.trim(),
                address: document.getElementById('customer-address').value.trim(),
                email: document.getElementById('customer-email').value.trim()
            };

            if (editingCustomer) {
                for (var i = 0; i < customers.length; i++) {
                    if (customers[i].id === editingCustomer.id) {
                        customers[i] = {
                            id: editingCustomer.id,
                            name: customerData.name,
                            phone: customerData.phone,
                            address: customerData.address,
                            email: customerData.email
                        };
                        break;
                    }
                }
                showSuccessMessage('✏️ Customer updated successfully');
            } else {
                customerData.id = Date.now();
                customers.push(customerData);
                showSuccessMessage('✅ Customer added successfully');
            }

            closeCustomerForm();
            saveDataToStorage();
            updateStats();
            renderViews();
            populateOrderCustomers();
        }

        // Product Functions
        function openProductForm() {
            editingProduct = null;
            document.getElementById('product-modal-title').textContent = 'Add Vegetable';
            document.getElementById('product-form').reset();
            setupCategoryFilters();
            document.getElementById('product-modal').classList.add('show');
        }

        function closeProductForm() {
            document.getElementById('product-modal').classList.remove('show');
            editingProduct = null;
        }

        function editProduct(id) {
            var product = null;
            for (var i = 0; i < products.length; i++) {
                if (products[i].id === id) {
                    product = products[i];
                    break;
                }
            }
            if (!product) return;

            editingProduct = product;
            document.getElementById('product-modal-title').textContent = 'Edit Vegetable';
            document.getElementById('product-name').value = product.name;
            document.getElementById('product-category').value = product.category || '';
            document.getElementById('product-unit').value = product.unit || '';
            document.getElementById('product-price').value = product.price;
            document.getElementById('product-modal').classList.add('show');
        }

        function deleteProduct(id) {
            if (confirm('Delete this vegetable from your custom list?')) {
                var newProducts = [];
                for (var i = 0; i < products.length; i++) {
                    if (products[i].id !== id) {
                        newProducts.push(products[i]);
                    }
                }
                products = newProducts;
                saveDataToStorage();
                updateStats();
                renderViews();
                showSuccessMessage('🗑️ Vegetable removed successfully');
            }
        }

        function handleProductSubmit(e) {
            e.preventDefault();
            
            var name = document.getElementById('product-name').value.trim();
            var price = parseFloat(document.getElementById('product-price').value);
            if (!name || !price) return;

            var productData = {
                name: name,
                category: document.getElementById('product-category').value.trim(),
                unit: document.getElementById('product-unit').value.trim() || 'kg',
                price: price,
                desc: 'Custom added vegetable'
            };

            if (editingProduct) {
                for (var i = 0; i < products.length; i++) {
                    if (products[i].id === editingProduct.id) {
                        products[i] = {
                            id: editingProduct.id,
                            name: productData.name,
                            category: productData.category,
                            unit: productData.unit,
                            price: productData.price,
                            desc: products[i].desc || productData.desc
                        };
                        break;
                    }
                }
                showSuccessMessage('✏️ Vegetable updated successfully');
            } else {
                productData.id = Date.now();
                products.push(productData);
                showSuccessMessage('✅ Vegetable added successfully');
            }

            closeProductForm();
            saveDataToStorage();
            updateStats();
            renderViews();
        }

        // Order Functions
        function openOrderForm() {
            editingOrder = null;
            document.getElementById('order-form').reset();
            document.getElementById('order-items').classList.add('hidden');
            
            document.querySelector('#order-modal .modal-header h3').textContent = 'Create Order';
            updateOrderFormButton();
            
            var orderSearch = document.getElementById('order-search');
            if (orderSearch) {
                orderSearch.value = '';
            }
            clearOrderQuantities();
            
            populateOrderCustomers();
            setupCategoryFilters();
            document.getElementById('order-modal').classList.add('show');
        }

        function editOrder(orderId) {
            var order = null;
            for (var i = 0; i < orders.length; i++) {
                if (orders[i].id === orderId) {
                    order = orders[i];
                    break;
                }
            }
            if (!order) return;
            
            editingOrder = order;
            
            document.querySelector('#order-modal .modal-header h3').textContent = 'Edit Order #' + order.id;
            updateOrderFormButton();
            
            document.getElementById('order-form').reset();
            clearOrderQuantities();
            
            populateOrderCustomers();
            document.getElementById('order-customer').value = order.customerId;
            
            initializeOrderItems();
            
            for (var i = 0; i < order.items.length; i++) {
                var item = order.items[i];
                var quantityInput = document.getElementById('quantity-' + item.vegeId);
                if (quantityInput) {
                    quantityInput.value = item.quantity;
                    updateOrderItemTotal(item.vegeId, item.price, item.quantity);
                }
            }
            
            setupCategoryFilters();
            document.getElementById('order-modal').classList.add('show');
        }

        function updateOrderFormButton() {
            var submitBtn = document.querySelector('#order-form .form-btn[type="submit"]');
            if (submitBtn) {
                if (editingOrder) {
                    submitBtn.textContent = 'Update Order';
                    submitBtn.style.background = 'linear-gradient(135deg, #059669, #047857)';
                } else {
                    submitBtn.textContent = 'Create Order';
                    submitBtn.style.background = 'linear-gradient(135deg, #06b6d4, #0891b2)';
                }
            }
        }

        function closeOrderForm() {
            document.getElementById('order-modal').classList.remove('show');
            editingOrder = null;
            
            document.querySelector('#order-modal .modal-header h3').textContent = 'Create Order';
            updateOrderFormButton();
            
            var orderSearch = document.getElementById('order-search');
            if (orderSearch) {
                orderSearch.value = '';
            }
            clearOrderQuantities();
        }

        function populateOrderCustomers() {
            var select = document.getElementById('order-customer');
            var optionsHTML = '<option value="">Choose customer...</option>';
            for (var i = 0; i < customers.length; i++) {
                var customer = customers[i];
                optionsHTML += '<option value="' + customer.id + '">' + customer.name + '</option>';
            }
            select.innerHTML = optionsHTML;
        }

        function initializeOrderItems() {
            var container = document.getElementById('order-items-list');
            renderOrderItems('', 'all');
            document.getElementById('order-items').classList.remove('hidden');
            updateOrderTotal();
            updateOrderFormButton();
        }

        function renderOrderItems(searchTerm, category) {
            if (!category) category = selectedOrderCategory;
            
            var container = document.getElementById('order-items-list');
            var itemsHTML = '';
            
            var filteredProducts = [];
            for (var i = 0; i < products.length; i++) {
                var product = products[i];
                var matchesSearch = !searchTerm || product.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1;
                var matchesCategory = category === 'all' || (product.category && product.category.toLowerCase() === category);
                
                if (matchesSearch && matchesCategory) {
                    filteredProducts.push(product);
                }
            }
            
            for (var i = 0; i < filteredProducts.length; i++) {
                var product = filteredProducts[i];
                itemsHTML += '<div class="order-item" id="order-item-' + product.id + '">' +
                    '<div class="item-header">' +
                    '<div style="flex: 1;">' +
                    '<div class="item-name">' + product.name + '</div>' +
                    '<div class="item-price">RM ' + product.price.toFixed(2) + ' per ' + product.unit + '</div>' +
                    (product.category ? '<span class="category-badge" style="background: #e5e7eb; color: #6b7280;">' + product.category + '</span>' : '') +
                    '</div>' +
                    '<div class="item-total" id="item-total-' + product.id + '">RM 0.00</div>' +
                    '</div>' +
                    '<div class="quantity-input">' +
                    '<input type="number" step="0.1" min="0" placeholder="0" ' +
                    'onchange="updateOrderItemTotal(' + product.id + ', ' + product.price + ', this.value)" ' +
                    'oninput="updateOrderItemTotal(' + product.id + ', ' + product.price + ', this.value)" ' +
                    'id="quantity-' + product.id + '">' +
                    '<span class="unit-label">' + product.unit + '</span>' +
                    '</div>' +
                    '</div>';
            }
            
            container.innerHTML = itemsHTML;
        }

        var currentOrderQuantities = {};

        function filterOrderItems(searchTerm) {
            for (var i = 0; i < products.length; i++) {
                var product = products[i];
                var quantityInput = document.getElementById('quantity-' + product.id);
                if (quantityInput && quantityInput.value) {
                    currentOrderQuantities[product.id] = quantityInput.value;
                }
            }
            
            renderOrderItems(searchTerm, selectedOrderCategory);
            
            for (var productId in currentOrderQuantities) {
                var quantityInput = document.getElementById('quantity-' + productId);
                if (quantityInput) {
                    quantityInput.value = currentOrderQuantities[productId];
                    var product = null;
                    for (var i = 0; i < products.length; i++) {
                        if (products[i].id == productId) {
                            product = products[i];
                            break;
                        }
                    }
                    if (product) {
                        updateOrderItemTotal(product.id, product.price, currentOrderQuantities[productId]);
                    }
                }
            }
        }

        function clearOrderQuantities() {
            currentOrderQuantities = {};
        }

        function updateOrderItemTotal(productId, price, quantity) {
            var total = (parseFloat(quantity) || 0) * price;
            document.getElementById('item-total-' + productId).textContent = 'RM ' + total.toFixed(2);
            updateOrderTotal();
        }

        function updateOrderTotal() {
            var total = 0;
            for (var i = 0; i < products.length; i++) {
                var product = products[i];
                var quantityInput = document.getElementById('quantity-' + product.id);
                if (quantityInput) {
                    var quantity = parseFloat(quantityInput.value) || 0;
                    total += quantity * product.price;
                }
            }
            document.getElementById('order-total').textContent = 'RM ' + total.toFixed(2);
        }

        function handleOrderSubmit(e) {
            e.preventDefault();
            
            var customerId = parseInt(document.getElementById('order-customer').value);
            if (!customerId) return;

            var orderItems = [];
            for (var i = 0; i < products.length; i++) {
                var product = products[i];
                var quantityInput = document.getElementById('quantity-' + product.id);
                if (quantityInput) {
                    var quantity = parseFloat(quantityInput.value) || 0;
                    if (quantity > 0) {
                        orderItems.push({
                            vegeId: product.id,
                            vegeName: product.name,
                            unit: product.unit,
                            price: product.price,
                            quantity: quantity
                        });
                    }
                }
            }

            if (orderItems.length === 0) {
                alert('Please add at least one item to the order.');
                return;
            }

            var total = 0;
            for (var i = 0; i < orderItems.length; i++) {
                total += orderItems[i].quantity * orderItems[i].price;
            }
            
            if (editingOrder) {
                for (var i = 0; i < orders.length; i++) {
                    if (orders[i].id === editingOrder.id) {
                        orders[i] = {
                            id: editingOrder.id,
                            customerId: customerId,
                            date: editingOrder.date,
                            items: orderItems,
                            total: total,
                            status: editingOrder.status,
                            createdAt: editingOrder.createdAt,
                            updatedAt: new Date().toISOString()
                        };
                        break;
                    }
                }
                showSuccessMessage('✏️ Order updated successfully');
            } else {
                var newOrder = {
                    id: Date.now(),
                    customerId: customerId,
                    date: selectedDate,
                    items: orderItems,
                    total: total,
                    status: 'pending',
                    createdAt: new Date().toISOString()
                };
                orders.unshift(newOrder);
                showSuccessMessage('✅ Order created successfully');
            }
            
            clearOrderQuantities();
            closeOrderForm();
            saveDataToStorage();
            updateStats();
            renderViews();
        }

        function showOrderDetails(orderId) {
            var order = null;
            for (var i = 0; i < orders.length; i++) {
                if (orders[i].id === orderId) {
                    order = orders[i];
                    break;
                }
            }
            if (!order) return;

            selectedOrderDetails = order;
            var customer = null;
            for (var i = 0; i < customers.length; i++) {
                if (customers[i].id === order.customerId) {
                    customer = customers[i];
                    break;
                }
            }
            
            var itemsHTML = '';
            for (var i = 0; i < order.items.length; i++) {
                var item = order.items[i];
                itemsHTML += '<div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #e5e7eb;">';
                itemsHTML += '<div style="flex: 1;">';
                itemsHTML += '<div style="font-weight: 700; color: #1f2937; font-size: 16px;">' + item.vegeName + '</div>';
                itemsHTML += '<div style="font-size: 14px; color: #6b7280;">RM ' + item.price.toFixed(2) + ' per ' + item.unit + '</div>';
                itemsHTML += '</div>';
                itemsHTML += '<div style="text-align: right;">';
                itemsHTML += '<div style="font-weight: 700; color: #1f2937; font-size: 16px;">' + item.quantity + ' ' + item.unit + '</div>';
                itemsHTML += '<div style="font-size: 14px; color: #0891b2; font-weight: 600;">RM ' + (item.quantity * item.price).toFixed(2) + '</div>';
                itemsHTML += '</div>';
                itemsHTML += '</div>';
            }
            
            var statusText = order.status === 'completed' ? '⏰ Mark Pending' : '✅ Mark Complete';
            var statusColor = order.status === 'completed' ? 'linear-gradient(135deg, #eab308, #ca8a04)' : 'linear-gradient(135deg, #0891b2, #0e7490)';
            
            var updatedText = '';
            if (order.updatedAt) {
                updatedText = '<p style="color: #6b7280; font-size: 12px; margin-top: 4px;">Last updated: ' + new Date(order.updatedAt).toLocaleString() + '</p>';
            }
            
            var content = '<div style="background: linear-gradient(135deg, #f9fafb, #f3f4f6); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid #e5e7eb;">' +
                '<h4 style="font-weight: 700; font-size: 20px; margin-bottom: 8px; color: #1f2937;">' + (customer ? customer.name : 'Unknown Customer') + '</h4>' +
                '<p style="color: #6b7280; font-weight: 600;">Order #' + order.id + '</p>' +
                '<p style="color: #6b7280; font-size: 14px;">Created: ' + new Date(order.createdAt).toLocaleString() + '</p>' +
                updatedText +
                '<div style="background: rgba(5, 150, 105, 0.1); padding: 8px 12px; border-radius: 8px; margin-top: 8px; border: 1px solid rgba(5, 150, 105, 0.2);">' +
                '<div style="font-size: 12px; color: #047857; font-weight: 600;">🔒 OFFLINE MODE</div>' +
                '</div>' +
                '</div>' +
                
                '<div class="share-buttons">' +
                '<button class="share-btn whatsapp" onclick="shareOrderWhatsApp(' + order.id + ')">' +
                '<span class="share-icon">💬</span>' +
                '<span>WhatsApp</span>' +
                '</button>' +
                '<button class="share-btn email" onclick="shareOrderEmail(' + order.id + ')">' +
                '<span class="share-icon">📧</span>' +
                '<span>Email</span>' +
                '</button>' +
                '</div>' +
                
                '<div style="background: linear-gradient(135deg, #f9fafb, #f3f4f6); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid #e5e7eb;">' +
                '<h4 style="font-weight: 700; margin-bottom: 16px; color: #1f2937; font-size: 18px;">Items Ordered</h4>' +
                itemsHTML +
                '</div>' +
                '<div style="background: linear-gradient(135deg, #ecfeff, #cffafe); border-radius: 20px; padding: 20px; border: 2px solid #67e8f9;">' +
                '<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">' +
                '<span style="font-weight: 700; font-size: 20px; color: #1f2937;">Total Amount:</span>' +
                '<span style="font-size: 28px; font-weight: 800; color: #0d9488;">RM ' + order.total.toFixed(2) + '</span>' +
                '</div>' +
                '<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">' +
                '<button onclick="editOrderFromDetails(' + order.id + ')" class="form-btn" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8); font-weight: 700;">✏️ Edit</button>' +
                '<button onclick="toggleOrderStatus(' + order.id + ')" class="form-btn" style="background: ' + statusColor + '; font-weight: 700;">' + statusText + '</button>' +
                '<button onclick="deleteOrderFromDetails(' + order.id + ')" class="form-btn" style="background: linear-gradient(135deg, #ef4444, #dc2626); font-weight: 700;">🗑️ Delete</button>' +
                '</div>' +
                '</div>';

            document.getElementById('order-details-content').innerHTML = content;
            document.getElementById('order-details-modal').classList.add('show');
        }

        function editOrderFromDetails(orderId) {
            closeOrderDetails();
            editOrder(orderId);
        }

        function deleteOrderFromDetails(orderId) {
            deleteOrder(orderId, true);
        }

        // Sharing Functions - Enhanced for offline mode
        function formatOrderForSharing(orderId) {
            var order = null;
            for (var i = 0; i < orders.length; i++) {
                if (orders[i].id === orderId) {
                    order = orders[i];
                    break;
                }
            }
            if (!order) return null;

            var customer = null;
            for (var i = 0; i < customers.length; i++) {
                if (customers[i].id === order.customerId) {
                    customer = customers[i];
                    break;
                }
            }

            var customerName = customer ? customer.name : 'Unknown Customer';
            var orderDate = new Date(order.createdAt).toLocaleDateString('en-MY');
            var orderTime = new Date(order.createdAt).toLocaleTimeString('en-MY', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });

            var itemsList = '';
            for (var i = 0; i < order.items.length; i++) {
                var item = order.items[i];
                var itemTotal = (item.quantity * item.price).toFixed(2);
                itemsList += (i + 1) + '. ' + item.vegeName + '\n';
                itemsList += '   ' + item.quantity + ' ' + item.unit + ' × RM' + item.price.toFixed(2) + ' = RM' + itemTotal + '\n';
            }

            var companyName = companySettings.name || 'VegeOrder Offline';
            var companyTagline = companySettings.tagline || 'Complete Offline Malaysian Vegetable Management';
            var companyPhone = companySettings.phone || '+60 12-345-6789';
            var companyEmail = companySettings.email || 'info@vegeorder.my';

            var message = '🥬 *' + companyName + ' Order Details*\n\n';
            if (companyTagline) message += companyTagline + '\n\n';
            message += '📋 *Order #' + order.id + '*\n';
            message += '👤 Customer: ' + customerName + '\n';
            message += '📅 Date: ' + orderDate + ' at ' + orderTime + '\n';
            message += '📊 Status: ' + order.status.toUpperCase() + '\n';
            message += '🔒 Mode: OFFLINE\n\n';
            message += '📦 *Items Ordered:*\n';
            message += itemsList + '\n';
            message += '💰 *Total Amount: RM' + order.total.toFixed(2) + '*\n\n';
            message += '🏪 ' + companyName + '\n';
            if (companyPhone) message += '📞 ' + companyPhone + '\n';
            if (companyEmail) message += '📧 ' + companyEmail + '\n';
            message += '📱 Complete Offline Vegetable Order Management\n';
            message += '💾 300+ Malaysian Vegetables Database';

            return {
                subject: companyName + ' Order #' + order.id + ' - ' + customerName,
                message: message,
                plainMessage: message.replace(/\*/g, '').replace(/🥬|📋|👤|📅|📊|📦|💰|🏪|📞|📧|📱|💾|🔒/g, '')
            };
        }

        function shareOrderWhatsApp(orderId) {
            var formattedOrder = formatOrderForSharing(orderId);
            if (!formattedOrder) return;

            var encodedMessage = encodeURIComponent(formattedOrder.message);
            var whatsappUrl = 'https://wa.me/?text=' + encodedMessage;
            
            try {
                if (window.innerWidth <= 768) {
                    window.location.href = whatsappUrl;
                } else {
                    window.open(whatsappUrl, '_blank');
                }
            } catch (error) {
                copyToClipboard(formattedOrder.message);
                showSuccessMessage('📋 Order details copied to clipboard!');
            }
        }

        function shareOrderEmail(orderId) {
            var formattedOrder = formatOrderForSharing(orderId);
            if (!formattedOrder) return;

            var emailBody = formattedOrder.plainMessage.replace(/\n/g, '%0D%0A');
            var emailSubject = encodeURIComponent(formattedOrder.subject);
            var mailtoUrl = 'mailto:?subject=' + emailSubject + '&body=' + emailBody;
            
            try {
                window.location.href = mailtoUrl;
            } catch (error) {
                copyToClipboard(formattedOrder.plainMessage);
                showSuccessMessage('📋 Order details copied to clipboard!');
            }
        }

        function copyToClipboard(text) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(function() {
                    console.log('Text copied to clipboard');
                }).catch(function(err) {
                    console.error('Failed to copy: ', err);
                    fallbackCopyTextToClipboard(text);
                });
            } else {
                fallbackCopyTextToClipboard(text);
            }
        }

        function fallbackCopyTextToClipboard(text) {
            var textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            textArea.style.opacity = "0";
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                var successful = document.execCommand('copy');
                if (successful) {
                    console.log('Fallback: Text copied to clipboard');
                }
            } catch (err) {
                console.error('Fallback: Oops, unable to copy', err);
            }
            
            document.body.removeChild(textArea);
        }

        function closeOrderDetails() {
            document.getElementById('order-details-modal').classList.remove('show');
            selectedOrderDetails = null;
        }

        function toggleOrderStatus(orderId) {
            for (var i = 0; i < orders.length; i++) {
                if (orders[i].id === orderId) {
                    orders[i].status = orders[i].status === 'pending' ? 'completed' : 'pending';
                    orders[i].updatedAt = new Date().toISOString();
                    break;
                }
            }
            saveDataToStorage();
            updateStats();
            renderViews();
            closeOrderDetails();
            showSuccessMessage('🔄 Order status updated');
        }

        function deleteOrder(orderId, fromDetailsModal) {
            if (confirm('Delete this order permanently?')) {
                var newOrders = [];
                for (var i = 0; i < orders.length; i++) {
                    if (orders[i].id !== orderId) {
                        newOrders.push(orders[i]);
                    }
                }
                orders = newOrders;
                saveDataToStorage();
                updateStats();
                renderViews();
                
                if (fromDetailsModal) {
                    closeOrderDetails();
                }
                
                showSuccessMessage('🗑️ Order deleted successfully');
            }
        }

        // Enhanced Mobile Functions
        function setupScrollHandling() {
            var mainContent = document.getElementById('main-content');
            var isScrolling = false;
            var scrollTimer = null;

            mainContent.addEventListener('scroll', function() {
                if (!isScrolling) {
                    isScrolling = true;
                }

                clearTimeout(scrollTimer);
                scrollTimer = setTimeout(function() {
                    isScrolling = false;
                }, 1000);
            });

            var startY = 0;
            var currentY = 0;
            var velocity = 0;
            var amplitude = 0;
            var frame = 0;

            mainContent.addEventListener('touchstart', function(e) {
                startY = e.touches[0].clientY;
                velocity = amplitude = 0;
                frame = 0;
                clearInterval(scrollTimer);
            }, {passive: true});

            mainContent.addEventListener('touchmove', function(e) {
                currentY = e.touches[0].clientY;
                velocity = currentY - startY;
                startY = currentY;
            }, {passive: true});

            mainContent.addEventListener('touchend', function() {
                if (velocity > 10 || velocity < -10) {
                    amplitude = 0.8 * velocity;
                    frame = Date.now();
                    autoScroll();
                }
            }, {passive: true});

            function autoScroll() {
                var elapsed = Date.now() - frame;
                var delta = -amplitude * Math.exp(-elapsed / 325);
                if (delta > 0.5 || delta < -0.5) {
                    mainContent.scrollTop += delta;
                    requestAnimationFrame(autoScroll);
                }
            }
        }
        
        // Mobile Optimizations
        function preventZoom() {
            var inputs = document.querySelectorAll('input, select, textarea');
            for (var i = 0; i < inputs.length; i++) {
                inputs[i].addEventListener('focus', function() {
                    this.style.fontSize = '16px';
                });
            }
            
            var lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                var now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        }

        function setupTouchFeedback() {
            document.addEventListener('touchstart', function(e) {
                var target = e.target;
                if (target.matches('button, .nav-item, .order-card, .customer-card, .product-card, .action-btn, .icon-btn, .category-btn, .share-btn')) {
                    target.style.transform = 'scale(0.96)';
                    target.style.transition = 'transform 0.1s ease';
                }
            }, {passive: true});

            document.addEventListener('touchend', function(e) {
                var target = e.target;
                if (target.matches('button, .nav-item, .order-card, .customer-card, .product-card, .action-btn, .icon-btn, .category-btn, .share-btn')) {
                    setTimeout(function() {
                        target.style.transform = '';
                    }, 100);
                }
            }, {passive: true});
        }

        function addPullToRefresh() {
            var mainContent = document.getElementById('main-content');
            var pullIndicator = document.createElement('div');
            pullIndicator.className = 'pull-indicator';
            pullIndicator.innerHTML = '🔄 Pull to refresh data';
            pullIndicator.style.cssText = 'position: absolute; top: -50px; left: 50%; transform: translateX(-50%); color: rgba(255,255,255,0.7); font-size: 14px; font-weight: 600; opacity: 0; transition: opacity 0.3s ease;';
            mainContent.appendChild(pullIndicator);

            var startY = 0;
            var isPulling = false;

            mainContent.addEventListener('touchstart', function(e) {
                if (mainContent.scrollTop === 0) {
                    startY = e.touches[0].clientY;
                    isPulling = true;
                }
            }, {passive: true});

            mainContent.addEventListener('touchmove', function(e) {
                if (isPulling && mainContent.scrollTop === 0) {
                    var currentY = e.touches[0].clientY;
                    var pullDistance = currentY - startY;
                    
                    if (pullDistance > 0 && pullDistance < 100) {
                        pullIndicator.style.opacity = Math.min(pullDistance / 50, 1);
                        pullIndicator.style.transform = 'translateX(-50%) translateY(' + (pullDistance / 2) + 'px)';
                    }
                    
                    if (pullDistance > 80) {
                        pullIndicator.innerHTML = '🔄 Release to refresh';
                    }
                }
            }, {passive: true});

            mainContent.addEventListener('touchend', function(e) {
                if (isPulling) {
                    var currentY = e.changedTouches[0].clientY;
                    var pullDistance = currentY - startY;
                    
                    if (pullDistance > 80) {
                        // Trigger refresh
                        pullIndicator.innerHTML = '🔄 Refreshing...';
                        setTimeout(function() {
                            updateStats();
                            renderViews();
                            showSuccessMessage('🔄 Data refreshed!');
                            pullIndicator.style.opacity = '0';
                            pullIndicator.style.transform = 'translateX(-50%) translateY(0)';
                            pullIndicator.innerHTML = '🔄 Pull to refresh data';
                        }, 1000);
                    } else {
                        pullIndicator.style.opacity = '0';
                        pullIndicator.style.transform = 'translateX(-50%) translateY(0)';
                    }
                    isPulling = false;
                }
            }, {passive: true});
        }

        // Update status bar time every minute
        setInterval(updateStatusBar, 60000);

        // Enhanced button interactions with haptic feedback
        function hapticFeedback() {
            if (window.navigator && window.navigator.vibrate) {
                window.navigator.vibrate(10);
            }
        }

        document.addEventListener('click', function(e) {
            if (e.target.matches('button, .action-btn, .category-btn, .share-btn')) {
                hapticFeedback();
            }
        });

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            var customerModal = document.getElementById('customer-modal');
            var productModal = document.getElementById('product-modal');
            var orderModal = document.getElementById('order-modal');
            var orderDetailsModal = document.getElementById('order-details-modal');
            
            if (e.target === customerModal) {
                closeCustomerForm();
            }
            
            if (e.target === productModal) {
                closeProductForm();
            }
            
            if (e.target === orderModal) {
                closeOrderForm();
            }
            
            if (e.target === orderDetailsModal) {
                closeOrderDetails();
            }
        });

        // Close modals with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                var customerModal = document.getElementById('customer-modal');
                var productModal = document.getElementById('product-modal');
                var orderModal = document.getElementById('order-modal');
                var orderDetailsModal = document.getElementById('order-details-modal');
                
                if (customerModal.classList.contains('show')) {
                    closeCustomerForm();
                }
                
                if (productModal.classList.contains('show')) {
                    closeProductForm();
                }
                
                if (orderModal.classList.contains('show')) {
                    closeOrderForm();
                }
                
                if (orderDetailsModal.classList.contains('show')) {
                    closeOrderDetails();
                }
            }
        });

        // Prevent context menu on long press for mobile app feel
        document.addEventListener('contextmenu', function(e) {
            if (window.matchMedia('(display-mode: standalone)').matches) {
                e.preventDefault();
                return false;
            }
        });

        // Auto-save data every 30 seconds for data persistence
        setInterval(function() {
            saveDataToStorage();
        }, 30000);

        // App lifecycle management
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                // App going to background - save data
                saveDataToStorage();
            } else {
                // App coming back to foreground - refresh stats
                updateStats();
                updateCurrentDate();
                updateStatusBar();
            }
        });

        // Display data usage info
        function getStorageUsage() {
            try {
                var total = 0;
                for (var key in localStorage) {
                    if (localStorage.hasOwnProperty(key) && key.startsWith('vegeorder_offline_')) {
                        total += localStorage[key].length;
                    }
                }
                return {
                    used: total,
                    usedMB: (total / 1024 / 1024).toFixed(2)
                };
            } catch (e) {
                return { used: 0, usedMB: '0.00' };
            }
        }

        // Enhanced offline indicators
        console.log('🔒 VegeOrder Offline Mode Active');
        console.log('📊 Complete Malaysian Vegetable Database: 300+ varieties');
        console.log('💾 Data Storage:', getStorageUsage().usedMB + 'MB used');
    </script>
</body>
</html>
